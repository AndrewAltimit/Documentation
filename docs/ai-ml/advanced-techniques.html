<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Advanced Techniques &amp; Workflows - Andrews Notebook</title>
<meta name="description" content="Technology and Physics notes">


  <meta name="author" content="Andrew">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Andrews Notebook">
<meta property="og:title" content="Advanced Techniques &amp; Workflows">
<meta property="og:url" content="https://andrewaltimit.github.io/Documentation/docs/ai-ml/advanced-techniques.html">


  <meta property="og:description" content="Technology and Physics notes">












<link rel="canonical" href="https://andrewaltimit.github.io/Documentation/docs/ai-ml/advanced-techniques.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://andrewaltimit.github.io/Documentation/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/Documentation/feed.xml" type="application/atom+xml" rel="alternate" title="Andrews Notebook Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/Documentation/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>

<!-- Custom styles -->
<!-- Custom styles for documentation -->
<link rel="stylesheet" href="/Documentation/style.css">
<style>
  /* Navigation improvements */
  .nav__list .nav__items a {
    display: block;
    padding: 0.25rem 1rem;
    font-size: 0.875rem;
    font-weight: normal;
    color: inherit;
    text-decoration: none;
    border-left: 3px solid transparent;
    transition: all 0.2s ease;
  }
  
  .nav__list .nav__items a:hover {
    color: #0066cc;
    background-color: rgba(0, 102, 204, 0.05);
    border-left-color: #0066cc;
  }
  
  .nav__list .nav__items a.active {
    color: #0066cc;
    font-weight: bold;
    border-left-color: #0066cc;
    background-color: rgba(0, 102, 204, 0.05);
  }
  
  .nav__title {
    margin: 1.5rem 0 0.5rem;
    padding: 0.5rem 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    font-size: 0.875rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #666;
    border-bottom: 1px solid #e1e4e8;
  }
  
  /* Override Minimal Mistakes navbar styling with higher specificity */
  body .masthead {
    border-bottom: 1px solid #e1e4e8;
    background: white;
    position: relative;
    clear: both;
    margin-bottom: 0;
    padding: 0;
  }
  
  body .masthead__inner-wrap {
    padding: 0.5em 1em !important; /* Force compact padding */
    max-width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  }
  
  body .greedy-nav {
    background: transparent;
    display: flex;
    align-items: center;
    width: 100%;
    max-width: 100%;
  }
  
  body .greedy-nav a,
  body .greedy-nav__toggle {
    margin: 0 0.25rem !important; /* Even more condensed spacing */
    padding: 0.25rem 0.5rem !important;
    font-size: 0.875rem !important; /* Smaller font */
    line-height: 1.2 !important;
    display: flex;
    align-items: center;
  }
  
  body .greedy-nav .visible-links {
    display: flex;
    align-items: center;
    font-size: 0.875rem !important;
    overflow: visible;
  }
  
  body .greedy-nav .visible-links li {
    flex: 0 0 auto;
  }
  
  body .greedy-nav .visible-links a {
    position: relative;
    margin: 0 0.25rem !important;
    padding: 0.25rem 0.5rem !important;
    white-space: nowrap;
  }
  
  body .greedy-nav .visible-links a:before {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    height: 2px;
    background: #0066cc;
    width: 100%;
    transform: scaleX(0);
    transition: transform 0.3s ease;
  }
  
  body .greedy-nav .visible-links a:hover:before {
    transform: scaleX(1);
  }
  
  body .masthead__menu {
    display: flex;
    align-items: center;
    width: 100%;
  }
  
  body .masthead__menu-item {
    display: flex;
    align-items: center;
    font-size: 0.875rem !important;
  }
  
  /* Site title in masthead */
  body .site-title {
    font-size: 1.125rem !important; /* Even smaller title */
    font-weight: 600;
    margin: 0;
    padding: 0;
    line-height: 1.2;
  }
  
  body .site-subtitle {
    display: none; /* Hide subtitle to save space */
  }
  
  /* Ensure the navbar takes minimal vertical space */
  body .masthead {
    min-height: auto !important;
  }
  
  /* Hidden links (hamburger menu) also need to be smaller */
  body .greedy-nav .hidden-links {
    font-size: 0.875rem !important;
  }
  
  body .greedy-nav .hidden-links a {
    padding: 0.25rem 1rem !important;
    font-size: 0.875rem !important;
  }
  
  /* Widescreen optimized layout */
  body {
    overflow-x: hidden;
  }
  
  /* Main container - no max-width for widescreen usage */
  #main {
    display: block;
    position: relative;
    min-height: 100vh;
    width: 100%;
  }
  
  /* Ensure the page fills available width */
  .page {
    width: 100%;
  }
  
  /* Sidebar fixed to left edge of viewport */
  .sidebar.sticky {
    position: fixed;
    left: 0;
    top: 0;
    width: 280px;
    height: 100vh;
    overflow-y: auto;
    background-color: #f8f9fa;
    border-right: 1px solid #e1e4e8;
    padding: 2rem 1rem;
    z-index: 100;
  }
  
  /* Scroll styling for sidebar */
  .sidebar.sticky::-webkit-scrollbar {
    width: 6px;
  }
  
  .sidebar.sticky::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .sidebar.sticky::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 3px;
  }
  
  .sidebar.sticky::-webkit-scrollbar-thumb:hover {
    background: #999;
  }
  
  /* Content area with left margin for sidebar */
  article.page {
    margin-left: 280px;
    min-height: 100vh;
    background: white;
  }
  
  /* Content wrapper - use full width */
  .page__inner-wrap {
    max-width: none;
    margin: 0;
    padding: 2rem 3rem;
  }
  
  /* Let content use available width */
  .page__content {
    max-width: none;
    width: 100%;
  }
  
  /* For optimal reading, constrain just the text paragraphs */
  .page__content > p,
  .page__content > ul,
  .page__content > ol {
    max-width: 65ch; /* Optimal line length for reading */
  }
  
  /* Let code blocks, tables, and special content use full width */
  .page__content pre,
  .page__content table,
  .page__content .noteBoxes,
  .page__content .hero-section,
  .page__content figure {
    max-width: 100%;
  }
  
  /* Wide class adjustments */
  .wide .page__inner-wrap {
    max-width: none;
  }
  
  /* Ultra-wide screens (>2000px) */
  @media (min-width: 2000px) {
    .sidebar.sticky {
      width: 320px;
      padding: 2rem 1.5rem;
    }
    
    article.page {
      margin-left: 320px;
    }
    
    .page__inner-wrap {
      padding: 2rem 4rem;
    }
    
    /* Slightly longer optimal line length for larger screens */
    .page__content > p,
    .page__content > ul,
    .page__content > ol {
      max-width: 75ch;
    }
  }
  
  /* Large screens (1440px - 2000px) */
  @media (min-width: 1440px) and (max-width: 1999px) {
    .page__inner-wrap {
      padding: 2rem 3rem;
    }
  }
  
  /* Medium screens (1024px - 1439px) */
  @media (min-width: 1024px) and (max-width: 1439px) {
    .sidebar.sticky {
      width: 250px;
    }
    
    article.page {
      margin-left: 250px;
    }
    
    .page__inner-wrap {
      max-width: 100%;
      padding: 2rem 2rem;
    }
  }
  
  /* Tablet and mobile (<1024px) */
  @media (max-width: 1023px) {
    .sidebar.sticky {
      position: relative;
      width: 100%;
      height: auto;
      border-right: none;
      border-bottom: 1px solid #e1e4e8;
      padding: 1rem;
    }
    
    article.page {
      margin-left: 0;
    }
    
    .page__inner-wrap {
      padding: 1rem;
    }
    
    .page__content {
      max-width: 100%;
    }
  }
  
  /* Mobile menu toggle button - hidden by default */
  .nav-toggle {
    display: none;
  }
  
  @media (max-width: 1023px) {
    .nav-toggle {
      display: block;
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 200;
      background: #0066cc;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    
    .sidebar.sticky {
      position: fixed;
      left: -100%;
      transition: left 0.3s ease;
      z-index: 150;
      height: 100vh;
      width: 280px;
      background: #f8f9fa;
    }
    
    .sidebar.sticky.active {
      left: 0;
    }
    
    .sidebar-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 140;
    }
    
    .sidebar-overlay.active {
      display: block;
    }
  }
  
  /* Hide title when hero section is present */
  .hero-section {
    margin-bottom: 2rem;
  }
  
  /* Hide the page title when content starts with a hero section */
  .page__inner-wrap header h1#page-title {
    display: none;
  }
  
  /* Show title only when there's no hero section - use JavaScript to add class */
  .page__inner-wrap.no-hero header h1#page-title {
    display: block;
  }
  
  /* Ensure hero section takes up the full width */
  .page__content .hero-section:first-child {
    margin-top: -2rem;
    margin-left: -3rem;
    margin-right: -3rem;
    margin-bottom: 2rem;
  }
  
  /* Adjust hero section margins for smaller screens */
  @media (max-width: 1439px) {
    .page__content .hero-section:first-child {
      margin-left: -2rem;
      margin-right: -2rem;
    }
  }
  
  @media (max-width: 1023px) {
    .page__content .hero-section:first-child {
      margin-left: -1rem;
      margin-right: -1rem;
      margin-top: -1rem;
    }
  }
  
  /* Additional enhancements for better visual hierarchy */
  .nav__list {
    padding: 0;
  }
  
  /* Sidebar background gradient for depth */
  .sidebar.sticky {
    background: linear-gradient(to bottom, #f8f9fa 0%, #f3f4f6 100%);
  }
  
  /* Content typography optimization for wide screens */
  @media (min-width: 1440px) {
    .page__content {
      font-size: 1.125rem;
      line-height: 1.7;
    }
    
    .page__content h1 { font-size: 2.5rem; }
    .page__content h2 { font-size: 2rem; }
    .page__content h3 { font-size: 1.5rem; }
  }
  
  /* Code blocks optimization */
  .page__content pre {
    max-width: 100%;
    overflow-x: auto;
  }
  
  /* Wide screen code improvements */
  @media (min-width: 1440px) {
    .page__content pre {
      font-size: 0.95rem;
    }
  }
  
  /* Syntax highlighted code blocks */
  .highlight {
    max-width: 100%;
    margin: 1rem 0;
  }
  
  /* Tables stretch to use available width */
  .page__content table {
    width: 100%;
    max-width: 100%;
  }
  
  /* Images and media use full available width */
  .page__content img,
  .page__content svg,
  .page__content figure,
  .page__content video,
  .page__content iframe {
    max-width: 100%;
    height: auto;
  }
  
  /* Allow certain elements to break out of paragraph width */
  .page__content .full-width {
    max-width: 100% !important;
    width: 100%;
  }
</style>

<!-- Mobile navigation toggle script and hero section detection -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Detect hero section and hide duplicate title
  const pageContent = document.querySelector('.page__content');
  const pageInnerWrap = document.querySelector('.page__inner-wrap');
  
  if (pageContent && pageInnerWrap) {
    const firstChild = pageContent.firstElementChild;
    
    // Check if the first element is a hero section
    if (firstChild && firstChild.classList.contains('hero-section')) {
      // Hero section exists, hide the title
      pageInnerWrap.classList.remove('no-hero');
    } else {
      // No hero section, show the title
      pageInnerWrap.classList.add('no-hero');
    }
  }
  
  // Create mobile menu toggle button if it doesn't exist
  if (window.innerWidth <= 1023) {
    if (!document.querySelector('.nav-toggle')) {
      const toggleBtn = document.createElement('button');
      toggleBtn.className = 'nav-toggle';
      toggleBtn.innerHTML = '☰ Menu';
      toggleBtn.setAttribute('aria-label', 'Toggle navigation menu');
      document.body.appendChild(toggleBtn);
      
      // Create overlay
      const overlay = document.createElement('div');
      overlay.className = 'sidebar-overlay';
      document.body.appendChild(overlay);
      
      // Toggle functionality
      toggleBtn.addEventListener('click', function() {
        const sidebar = document.querySelector('.sidebar.sticky');
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
      });
      
      // Close on overlay click
      overlay.addEventListener('click', function() {
        const sidebar = document.querySelector('.sidebar.sticky');
        sidebar.classList.remove('active');
        overlay.classList.remove('active');
      });
    }
  }
  
  // Remove mobile elements on resize to desktop
  let resizeTimer;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() {
      if (window.innerWidth > 1023) {
        const sidebar = document.querySelector('.sidebar.sticky');
        const overlay = document.querySelector('.sidebar-overlay');
        const toggle = document.querySelector('.nav-toggle');
        
        if (sidebar) sidebar.classList.remove('active');
        if (overlay) overlay.classList.remove('active');
        if (toggle) toggle.style.display = 'none';
      } else {
        const toggle = document.querySelector('.nav-toggle');
        if (toggle) toggle.style.display = 'block';
      }
    }, 250);
  });
});
</script>


  
    <script src="/Documentation/assets/js/custom.js"></script>
  

    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--docs wide with-sidebar">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/Documentation/">
          Andrews Notebook
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/Documentation/docs/technology/">Technology</a>
            </li><li class="masthead__menu-item">
              <a href="/Documentation/docs/ai-ml/">AI/ML</a>
            </li><li class="masthead__menu-item">
              <a href="/Documentation/docs/physics/">Physics</a>
            </li><li class="masthead__menu-item">
              <a href="/Documentation/search.html">Search</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://andrewaltimit.github.io/Documentation/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/Documentation/docs" itemprop="item"><span itemprop="name">Docs</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/Documentation/ai-ml" itemprop="item"><span itemprop="name">Ai ml</span></a>
          <meta itemprop="position" content="3" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Advanced Techniques & Workflows</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Advanced Techniques &amp; Workflows">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Advanced Techniques &amp; Workflows
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-cog"></i> On This Page</h4></header>
              <ul class="toc__menu"><li><a href="#alternating-prompts">Alternating Prompts</a></li><li><a href="#composable-diffusion">Composable Diffusion</a></li><li><a href="#flash-attention">Flash Attention</a></li><li><a href="#token-merging-tome">Token Merging (ToMe)</a></li><li><a href="#gradient-checkpointing">Gradient Checkpointing</a></li><li><a href="#sequential-generation">Sequential Generation</a></li></ul>

            </nav>
          </aside>
        
        


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://andrewaltimit.github.io/Documentation/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/Documentation/docs" itemprop="item"><span itemprop="name">Docs</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/Documentation/ai-ml" itemprop="item"><span itemprop="name">Ai ml</span></a>
          <meta itemprop="position" content="3" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Advanced Techniques & Workflows</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  <aside class="sidebar sticky">
    <nav class="nav__list">
      
        
          <h3 class="nav__title">Technology</h3>
          
            <ul class="nav__items">
              
                <li>
                  <a href="/Documentation/docs/technology/index.html"
                     >
                    <span class="nav__sub-title">Technology Overview</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/terraform.html"
                     >
                    <span class="nav__sub-title">Terraform</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/docker.html"
                     >
                    <span class="nav__sub-title">Docker Containers</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/aws.html"
                     >
                    <span class="nav__sub-title">AWS</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/kubernetes.html"
                     >
                    <span class="nav__sub-title">Kubernetes</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/database-design.html"
                     >
                    <span class="nav__sub-title">Database Design</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/networking.html"
                     >
                    <span class="nav__sub-title">Networking</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/cybersecurity.html"
                     >
                    <span class="nav__sub-title">Cybersecurity</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/git.html"
                     >
                    <span class="nav__sub-title">Git Version Control</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/branching.html"
                     >
                    <span class="nav__sub-title">Branching Strategies</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/unreal.html"
                     >
                    <span class="nav__sub-title">Unreal Engine</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/quantumcomputing.html"
                     >
                    <span class="nav__sub-title">Quantum Computing</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/ai.html"
                     >
                    <span class="nav__sub-title">Artificial Intelligence</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/ai-lecture-2023.html"
                     >
                    <span class="nav__sub-title">AI Lecture 2023</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/technology/please-build.html"
                     >
                    <span class="nav__sub-title">Please Build</span>
                  </a>
                </li>
              
            </ul>
          
        
          <h3 class="nav__title">AI/ML - Generative AI</h3>
          
            <ul class="nav__items">
              
                <li>
                  <a href="/Documentation/docs/ai-ml/index.html"
                     >
                    <span class="nav__sub-title">AI/ML Overview</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/ai-ml/stable-diffusion-fundamentals.html"
                     >
                    <span class="nav__sub-title">Stable Diffusion Fundamentals</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/ai-ml/base-models-comparison.html"
                     >
                    <span class="nav__sub-title">Base Models Comparison</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/ai-ml/model-types.html"
                     >
                    <span class="nav__sub-title">Model Types</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/ai-ml/lora-training.html"
                     >
                    <span class="nav__sub-title">LoRA Training</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/ai-ml/controlnet.html"
                     >
                    <span class="nav__sub-title">ControlNet Guide</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/ai-ml/comfyui-guide.html"
                     >
                    <span class="nav__sub-title">ComfyUI Guide</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/ai-ml/output-formats.html"
                     >
                    <span class="nav__sub-title">Output Formats</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/ai-ml/advanced-techniques.html"
                     class="active">
                    <span class="nav__sub-title">Advanced Techniques</span>
                  </a>
                </li>
              
            </ul>
          
        
          <h3 class="nav__title">Physics</h3>
          
            <ul class="nav__items">
              
                <li>
                  <a href="/Documentation/docs/physics/index.html"
                     >
                    <span class="nav__sub-title">Physics Overview</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/physics/classical-mechanics.html"
                     >
                    <span class="nav__sub-title">Classical Mechanics</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/physics/thermodynamics.html"
                     >
                    <span class="nav__sub-title">Thermodynamics</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/physics/statistical-mechanics.html"
                     >
                    <span class="nav__sub-title">Statistical Mechanics</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/physics/relativity.html"
                     >
                    <span class="nav__sub-title">Relativity</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/physics/quantum-mechanics.html"
                     >
                    <span class="nav__sub-title">Quantum Mechanics</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/physics/condensed-matter.html"
                     >
                    <span class="nav__sub-title">Condensed Matter Physics</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/physics/quantum-field-theory.html"
                     >
                    <span class="nav__sub-title">Quantum Field Theory</span>
                  </a>
                </li>
              
                <li>
                  <a href="/Documentation/docs/physics/string-theory.html"
                     >
                    <span class="nav__sub-title">String Theory</span>
                  </a>
                </li>
              
            </ul>
          
        
      
    </nav>
  </aside>

  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Advanced Techniques &amp; Workflows">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="https://andrewaltimit.github.io/Documentation/docs/ai-ml/advanced-techniques.html" class="u-url" itemprop="url">Advanced Techniques &amp; Workflows
</a>
          </h1>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-cog"></i> On This Page</h4></header>
              <ul class="toc__menu"><li><a href="#overview">Overview</a></li><li><a href="#latent-space-techniques">Latent Space Techniques</a><ul><li><a href="#latent-space-interpolation">Latent Space Interpolation</a></li><li><a href="#spherical-linear-interpolation-slerp">Spherical Linear Interpolation (SLERP)</a></li><li><a href="#latent-space-navigation">Latent Space Navigation</a></li><li><a href="#latent-composition">Latent Composition</a></li></ul></li><li><a href="#regional-prompting">Regional Prompting</a><ul><li><a href="#attention-masking">Attention Masking</a></li><li><a href="#gligen-integration">GLIGEN Integration</a></li><li><a href="#prompt-weighting-techniques">Prompt Weighting Techniques</a><ul><li><a href="#alternating-prompts">Alternating Prompts</a></li><li><a href="#composable-diffusion">Composable Diffusion</a></li></ul></li></ul></li><li><a href="#advanced-sampling-methods">Advanced Sampling Methods</a><ul><li><a href="#classifier-free-guidance-rescale">Classifier-Free Guidance Rescale</a></li><li><a href="#dynamic-thresholding">Dynamic Thresholding</a></li><li><a href="#karras-noise-schedule">Karras Noise Schedule</a></li><li><a href="#restart-sampling">Restart Sampling</a></li></ul></li><li><a href="#multi-stage-workflows">Multi-Stage Workflows</a><ul><li><a href="#progressive-upscaling">Progressive Upscaling</a></li><li><a href="#detail-enhancement-pipeline">Detail Enhancement Pipeline</a></li><li><a href="#style-mixing-workflow">Style Mixing Workflow</a></li></ul></li><li><a href="#optimization-techniques">Optimization Techniques</a><ul><li><a href="#attention-optimization">Attention Optimization</a><ul><li><a href="#flash-attention">Flash Attention</a></li><li><a href="#token-merging-tome">Token Merging (ToMe)</a></li></ul></li><li><a href="#memory-optimization">Memory Optimization</a><ul><li><a href="#gradient-checkpointing">Gradient Checkpointing</a></li><li><a href="#sequential-generation">Sequential Generation</a></li></ul></li></ul></li><li><a href="#prompt-engineering-advanced">Prompt Engineering Advanced</a><ul><li><a href="#semantic-prompt-optimization">Semantic Prompt Optimization</a></li><li><a href="#prompt-expansion">Prompt Expansion</a></li></ul></li><li><a href="#custom-sampling-algorithms">Custom Sampling Algorithms</a><ul><li><a href="#ancestral-sampling-with-temperature">Ancestral Sampling with Temperature</a></li><li><a href="#importance-sampling">Importance Sampling</a></li></ul></li><li><a href="#advanced-controlnet-techniques">Advanced ControlNet Techniques</a><ul><li><a href="#multi-scale-control">Multi-Scale Control</a></li><li><a href="#temporal-controlnet">Temporal ControlNet</a></li></ul></li><li><a href="#experimental-techniques">Experimental Techniques</a><ul><li><a href="#diffusion-distillation">Diffusion Distillation</a></li><li><a href="#consistency-models">Consistency Models</a></li><li><a href="#neural-codec-integration">Neural Codec Integration</a></li></ul></li><li><a href="#workflow-automation">Workflow Automation</a><ul><li><a href="#batch-processing-pipeline">Batch Processing Pipeline</a></li><li><a href="#ab-testing-framework">A/B Testing Framework</a></li></ul></li><li><a href="#performance-monitoring">Performance Monitoring</a><ul><li><a href="#generation-metrics">Generation Metrics</a></li></ul></li><li><a href="#best-practices">Best Practices</a><ul><li><a href="#workflow-design">Workflow Design</a></li><li><a href="#experimentation-guidelines">Experimentation Guidelines</a></li></ul></li><li><a href="#conclusion">Conclusion</a></li></ul>

            </nav>
          </aside>
        
        
<div class="code-example">
  <p>Cutting-edge techniques and complex workflows for pushing the boundaries of AI image generation.</p>
</div>

<h2 class="no_toc text-delta" id="table-of-contents">Table of contents</h2>

<ol id="markdown-toc">
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#latent-space-techniques" id="markdown-toc-latent-space-techniques">Latent Space Techniques</a>    <ol>
      <li><a href="#latent-space-interpolation" id="markdown-toc-latent-space-interpolation">Latent Space Interpolation</a></li>
      <li><a href="#spherical-linear-interpolation-slerp" id="markdown-toc-spherical-linear-interpolation-slerp">Spherical Linear Interpolation (SLERP)</a></li>
      <li><a href="#latent-space-navigation" id="markdown-toc-latent-space-navigation">Latent Space Navigation</a></li>
      <li><a href="#latent-composition" id="markdown-toc-latent-composition">Latent Composition</a></li>
    </ol>
  </li>
  <li><a href="#regional-prompting" id="markdown-toc-regional-prompting">Regional Prompting</a>    <ol>
      <li><a href="#attention-masking" id="markdown-toc-attention-masking">Attention Masking</a></li>
      <li><a href="#gligen-integration" id="markdown-toc-gligen-integration">GLIGEN Integration</a></li>
      <li><a href="#prompt-weighting-techniques" id="markdown-toc-prompt-weighting-techniques">Prompt Weighting Techniques</a>        <ol>
          <li><a href="#alternating-prompts" id="markdown-toc-alternating-prompts">Alternating Prompts</a></li>
          <li><a href="#composable-diffusion" id="markdown-toc-composable-diffusion">Composable Diffusion</a></li>
        </ol>
      </li>
    </ol>
  </li>
  <li><a href="#advanced-sampling-methods" id="markdown-toc-advanced-sampling-methods">Advanced Sampling Methods</a>    <ol>
      <li><a href="#classifier-free-guidance-rescale" id="markdown-toc-classifier-free-guidance-rescale">Classifier-Free Guidance Rescale</a></li>
      <li><a href="#dynamic-thresholding" id="markdown-toc-dynamic-thresholding">Dynamic Thresholding</a></li>
      <li><a href="#karras-noise-schedule" id="markdown-toc-karras-noise-schedule">Karras Noise Schedule</a></li>
      <li><a href="#restart-sampling" id="markdown-toc-restart-sampling">Restart Sampling</a></li>
    </ol>
  </li>
  <li><a href="#multi-stage-workflows" id="markdown-toc-multi-stage-workflows">Multi-Stage Workflows</a>    <ol>
      <li><a href="#progressive-upscaling" id="markdown-toc-progressive-upscaling">Progressive Upscaling</a></li>
      <li><a href="#detail-enhancement-pipeline" id="markdown-toc-detail-enhancement-pipeline">Detail Enhancement Pipeline</a></li>
      <li><a href="#style-mixing-workflow" id="markdown-toc-style-mixing-workflow">Style Mixing Workflow</a></li>
    </ol>
  </li>
  <li><a href="#optimization-techniques" id="markdown-toc-optimization-techniques">Optimization Techniques</a>    <ol>
      <li><a href="#attention-optimization" id="markdown-toc-attention-optimization">Attention Optimization</a>        <ol>
          <li><a href="#flash-attention" id="markdown-toc-flash-attention">Flash Attention</a></li>
          <li><a href="#token-merging-tome" id="markdown-toc-token-merging-tome">Token Merging (ToMe)</a></li>
        </ol>
      </li>
      <li><a href="#memory-optimization" id="markdown-toc-memory-optimization">Memory Optimization</a>        <ol>
          <li><a href="#gradient-checkpointing" id="markdown-toc-gradient-checkpointing">Gradient Checkpointing</a></li>
          <li><a href="#sequential-generation" id="markdown-toc-sequential-generation">Sequential Generation</a></li>
        </ol>
      </li>
    </ol>
  </li>
  <li><a href="#prompt-engineering-advanced" id="markdown-toc-prompt-engineering-advanced">Prompt Engineering Advanced</a>    <ol>
      <li><a href="#semantic-prompt-optimization" id="markdown-toc-semantic-prompt-optimization">Semantic Prompt Optimization</a></li>
      <li><a href="#prompt-expansion" id="markdown-toc-prompt-expansion">Prompt Expansion</a></li>
    </ol>
  </li>
  <li><a href="#custom-sampling-algorithms" id="markdown-toc-custom-sampling-algorithms">Custom Sampling Algorithms</a>    <ol>
      <li><a href="#ancestral-sampling-with-temperature" id="markdown-toc-ancestral-sampling-with-temperature">Ancestral Sampling with Temperature</a></li>
      <li><a href="#importance-sampling" id="markdown-toc-importance-sampling">Importance Sampling</a></li>
    </ol>
  </li>
  <li><a href="#advanced-controlnet-techniques" id="markdown-toc-advanced-controlnet-techniques">Advanced ControlNet Techniques</a>    <ol>
      <li><a href="#multi-scale-control" id="markdown-toc-multi-scale-control">Multi-Scale Control</a></li>
      <li><a href="#temporal-controlnet" id="markdown-toc-temporal-controlnet">Temporal ControlNet</a></li>
    </ol>
  </li>
  <li><a href="#experimental-techniques" id="markdown-toc-experimental-techniques">Experimental Techniques</a>    <ol>
      <li><a href="#diffusion-distillation" id="markdown-toc-diffusion-distillation">Diffusion Distillation</a></li>
      <li><a href="#consistency-models" id="markdown-toc-consistency-models">Consistency Models</a></li>
      <li><a href="#neural-codec-integration" id="markdown-toc-neural-codec-integration">Neural Codec Integration</a></li>
    </ol>
  </li>
  <li><a href="#workflow-automation" id="markdown-toc-workflow-automation">Workflow Automation</a>    <ol>
      <li><a href="#batch-processing-pipeline" id="markdown-toc-batch-processing-pipeline">Batch Processing Pipeline</a></li>
      <li><a href="#ab-testing-framework" id="markdown-toc-ab-testing-framework">A/B Testing Framework</a></li>
    </ol>
  </li>
  <li><a href="#performance-monitoring" id="markdown-toc-performance-monitoring">Performance Monitoring</a>    <ol>
      <li><a href="#generation-metrics" id="markdown-toc-generation-metrics">Generation Metrics</a></li>
    </ol>
  </li>
  <li><a href="#best-practices" id="markdown-toc-best-practices">Best Practices</a>    <ol>
      <li><a href="#workflow-design" id="markdown-toc-workflow-design">Workflow Design</a></li>
      <li><a href="#experimentation-guidelines" id="markdown-toc-experimentation-guidelines">Experimentation Guidelines</a></li>
    </ol>
  </li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
</ol>

<hr />

<h2 id="overview">Overview</h2>

<p>This guide covers advanced techniques that go beyond basic image generation, including latent space manipulation, regional prompting, advanced sampling methods, and complex multi-stage workflows.</p>

<h2 id="latent-space-techniques">Latent Space Techniques</h2>

<h3 id="latent-space-interpolation">Latent Space Interpolation</h3>

<p>Smoothly transition between different concepts or images:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">latent_interpolation</span><span class="p">(</span><span class="n">latent_a</span><span class="p">,</span> <span class="n">latent_b</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">interpolated</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">steps</span><span class="p">):</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="p">(</span><span class="n">steps</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">interpolated_latent</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">*</span> <span class="n">latent_a</span> <span class="o">+</span> <span class="n">alpha</span> <span class="o">*</span> <span class="n">latent_b</span>
        <span class="n">interpolated</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">interpolated_latent</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">interpolated</span>
</code></pre></div></div>

<h3 id="spherical-linear-interpolation-slerp">Spherical Linear Interpolation (SLERP)</h3>

<p>Better for maintaining consistency during interpolation:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">slerp</span><span class="p">(</span><span class="n">latent_a</span><span class="p">,</span> <span class="n">latent_b</span><span class="p">,</span> <span class="n">alpha</span><span class="p">):</span>
    <span class="c1"># Normalize vectors
</span>    <span class="n">a_norm</span> <span class="o">=</span> <span class="n">latent_a</span> <span class="o">/</span> <span class="n">torch</span><span class="p">.</span><span class="nf">norm</span><span class="p">(</span><span class="n">latent_a</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdim</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">b_norm</span> <span class="o">=</span> <span class="n">latent_b</span> <span class="o">/</span> <span class="n">torch</span><span class="p">.</span><span class="nf">norm</span><span class="p">(</span><span class="n">latent_b</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdim</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Calculate angle
</span>    <span class="n">dot</span> <span class="o">=</span> <span class="p">(</span><span class="n">a_norm</span> <span class="o">*</span> <span class="n">b_norm</span><span class="p">).</span><span class="nf">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">acos</span><span class="p">(</span><span class="n">torch</span><span class="p">.</span><span class="nf">clamp</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    
    <span class="c1"># SLERP formula
</span>    <span class="n">sin_theta</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">wa</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">sin</span><span class="p">((</span><span class="mi">1</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span> <span class="o">/</span> <span class="n">sin_theta</span>
    <span class="n">wb</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">alpha</span> <span class="o">*</span> <span class="n">theta</span><span class="p">)</span> <span class="o">/</span> <span class="n">sin_theta</span>
    
    <span class="k">return</span> <span class="n">wa</span><span class="p">.</span><span class="nf">unsqueeze</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">latent_a</span> <span class="o">+</span> <span class="n">wb</span><span class="p">.</span><span class="nf">unsqueeze</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">latent_b</span>
</code></pre></div></div>

<h3 id="latent-space-navigation">Latent Space Navigation</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ComfyUI workflow for latent exploration
</span><span class="p">[</span><span class="n">Latent</span> <span class="n">A</span><span class="p">]</span> <span class="err">→</span> <span class="p">[</span><span class="n">Latent</span> <span class="n">Interpolate</span><span class="p">]</span> <span class="err">→</span> <span class="p">[</span><span class="n">KSampler</span><span class="p">]</span> <span class="err">→</span> <span class="p">[</span><span class="n">Preview</span><span class="p">]</span>
                <span class="err">↑</span>
          <span class="p">[</span><span class="n">Latent</span> <span class="n">B</span><span class="p">]</span>
          
<span class="c1"># Advanced: Multi-dimensional navigation
</span><span class="p">[</span><span class="n">Center</span> <span class="n">Latent</span><span class="p">]</span> <span class="err">→</span> <span class="p">[</span><span class="n">Add</span> <span class="n">Noise</span> <span class="n">Direction</span> <span class="mi">1</span><span class="p">]</span> <span class="err">→</span> <span class="p">[</span><span class="n">Blend</span><span class="p">]</span>
                <span class="err">→</span> <span class="p">[</span><span class="n">Add</span> <span class="n">Noise</span> <span class="n">Direction</span> <span class="mi">2</span><span class="p">]</span> <span class="err">↗</span>
</code></pre></div></div>

<h3 id="latent-composition">Latent Composition</h3>

<p>Combine multiple latents with masks:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">masked_latent_composite</span><span class="p">(</span><span class="n">latents</span><span class="p">,</span> <span class="n">masks</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Combine multiple latents using masks</span><span class="sh">"""</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">zeros_like</span><span class="p">(</span><span class="n">latents</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">latent</span><span class="p">,</span> <span class="n">mask</span> <span class="ow">in</span> <span class="nf">zip</span><span class="p">(</span><span class="n">latents</span><span class="p">,</span> <span class="n">masks</span><span class="p">):</span>
        <span class="c1"># Resize mask to latent dimensions
</span>        <span class="n">mask_resized</span> <span class="o">=</span> <span class="n">F</span><span class="p">.</span><span class="nf">interpolate</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">latent</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="n">latent</span> <span class="o">*</span> <span class="n">mask_resized</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>

<h2 id="regional-prompting">Regional Prompting</h2>

<h3 id="attention-masking">Attention Masking</h3>

<p>Control where specific prompts apply:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Regional prompt structure
</span><span class="n">regions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="sh">"</span><span class="s">prompt</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">detailed robot</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">mask</span><span class="sh">"</span><span class="p">:</span> <span class="n">left_half_mask</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">weight</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.2</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="sh">"</span><span class="s">prompt</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">lush forest</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">mask</span><span class="sh">"</span><span class="p">:</span> <span class="n">right_half_mask</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">weight</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.0</span>
    <span class="p">}</span>
<span class="p">]</span>
</code></pre></div></div>

<h3 id="gligen-integration">GLIGEN Integration</h3>

<p>Grounded Language-to-Image Generation:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Bounding box control
</span><span class="n">gligen_inputs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">boxes</span><span class="sh">"</span><span class="p">:</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]],</span>  <span class="c1"># [x, y, w, h]
</span>    <span class="sh">"</span><span class="s">phrases</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="sh">"</span><span class="s">red car</span><span class="sh">"</span><span class="p">],</span>
    <span class="sh">"</span><span class="s">strengths</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.8</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="prompt-weighting-techniques">Prompt Weighting Techniques</h3>

<h4 id="alternating-prompts">Alternating Prompts</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Switch prompts during generation
</span><span class="n">prompt_schedule</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">0</span><span class="p">:</span> <span class="sh">"</span><span class="s">a cat sitting</span><span class="sh">"</span><span class="p">,</span>
    <span class="mi">10</span><span class="p">:</span> <span class="sh">"</span><span class="s">[a cat sitting|a dog sitting]</span><span class="sh">"</span><span class="p">,</span>  <span class="c1"># Alternate
</span>    <span class="mi">20</span><span class="p">:</span> <span class="sh">"</span><span class="s">a dog sitting</span><span class="sh">"</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="composable-diffusion">Composable Diffusion</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># AND operation
</span><span class="sh">"</span><span class="s">a cat AND a dog</span><span class="sh">"</span>  <span class="c1"># Both must appear
</span>
<span class="c1"># Weight distribution
</span><span class="sh">"</span><span class="s">(cat:1.2) and (dog:0.8)</span><span class="sh">"</span>  <span class="c1"># Cat emphasized
</span></code></pre></div></div>

<h2 id="advanced-sampling-methods">Advanced Sampling Methods</h2>

<h3 id="classifier-free-guidance-rescale">Classifier-Free Guidance Rescale</h3>

<p>Reduce oversaturation at high CFG values:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">cfg_rescale</span><span class="p">(</span><span class="n">noise_pred_conditional</span><span class="p">,</span> <span class="n">noise_pred_unconditional</span><span class="p">,</span> 
                <span class="n">guidance_scale</span><span class="p">,</span> <span class="n">rescale_factor</span><span class="o">=</span><span class="mf">0.7</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Rescale CFG to prevent oversaturation</span><span class="sh">"""</span>
    <span class="c1"># Standard CFG
</span>    <span class="n">noise_pred</span> <span class="o">=</span> <span class="n">noise_pred_unconditional</span> <span class="o">+</span> <span class="n">guidance_scale</span> <span class="o">*</span> \
                 <span class="p">(</span><span class="n">noise_pred_conditional</span> <span class="o">-</span> <span class="n">noise_pred_unconditional</span><span class="p">)</span>
    
    <span class="c1"># Rescale
</span>    <span class="n">std_pos</span> <span class="o">=</span> <span class="n">noise_pred_conditional</span><span class="p">.</span><span class="nf">std</span><span class="p">()</span>
    <span class="n">std_cfg</span> <span class="o">=</span> <span class="n">noise_pred</span><span class="p">.</span><span class="nf">std</span><span class="p">()</span>
    
    <span class="n">rescale_factor</span> <span class="o">=</span> <span class="n">rescale_factor</span> <span class="o">*</span> <span class="p">(</span><span class="n">std_pos</span> <span class="o">/</span> <span class="n">std_cfg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">noise_pred</span> <span class="o">*</span> <span class="n">rescale_factor</span>
</code></pre></div></div>

<h3 id="dynamic-thresholding">Dynamic Thresholding</h3>

<p>Prevent color artifacts:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">dynamic_thresholding</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">percentile</span><span class="o">=</span><span class="mf">99.5</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Apply dynamic thresholding to prevent artifacts</span><span class="sh">"""</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">quantile</span><span class="p">(</span>
        <span class="n">x</span><span class="p">.</span><span class="nf">abs</span><span class="p">().</span><span class="nf">reshape</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> 
        <span class="n">percentile</span> <span class="o">/</span> <span class="mi">100</span><span class="p">,</span> 
        <span class="n">dim</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">maximum</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">torch</span><span class="p">.</span><span class="nf">ones_like</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">torch</span><span class="p">.</span><span class="nf">clamp</span><span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="n">s</span><span class="p">.</span><span class="nf">view</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">s</span><span class="p">.</span><span class="nf">view</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="karras-noise-schedule">Karras Noise Schedule</h3>

<p>Optimized noise scheduling:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">karras_schedule</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">sigma_min</span><span class="o">=</span><span class="mf">0.002</span><span class="p">,</span> <span class="n">sigma_max</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">rho</span><span class="o">=</span><span class="mi">7</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Generate Karras noise schedule</span><span class="sh">"""</span>
    <span class="n">ramp</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">min_inv_rho</span> <span class="o">=</span> <span class="n">sigma_min</span> <span class="o">**</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">rho</span><span class="p">)</span>
    <span class="n">max_inv_rho</span> <span class="o">=</span> <span class="n">sigma_max</span> <span class="o">**</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">rho</span><span class="p">)</span>
    <span class="n">sigmas</span> <span class="o">=</span> <span class="p">(</span><span class="n">max_inv_rho</span> <span class="o">+</span> <span class="n">ramp</span> <span class="o">*</span> <span class="p">(</span><span class="n">min_inv_rho</span> <span class="o">-</span> <span class="n">max_inv_rho</span><span class="p">))</span> <span class="o">**</span> <span class="n">rho</span>
    <span class="k">return</span> <span class="n">sigmas</span>
</code></pre></div></div>

<h3 id="restart-sampling">Restart Sampling</h3>

<p>Improve quality with strategic restarts:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Restart sampling workflow
</span><span class="n">steps</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">restart_points</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">35</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">steps</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">restart_points</span><span class="p">:</span>
        <span class="c1"># Add controlled noise and continue
</span>        <span class="n">latents</span> <span class="o">=</span> <span class="n">latents</span> <span class="o">+</span> <span class="n">torch</span><span class="p">.</span><span class="nf">randn_like</span><span class="p">(</span><span class="n">latents</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span>
    
    <span class="n">latents</span> <span class="o">=</span> <span class="nf">sampler_step</span><span class="p">(</span><span class="n">latents</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="multi-stage-workflows">Multi-Stage Workflows</h2>

<h3 id="progressive-upscaling">Progressive Upscaling</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 4x upscale pipeline
</span><span class="n">stages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="sh">"</span><span class="s">size</span><span class="sh">"</span><span class="p">:</span> <span class="mi">512</span><span class="p">,</span> <span class="sh">"</span><span class="s">denoise</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span>    <span class="c1"># Base generation
</span>    <span class="p">{</span><span class="sh">"</span><span class="s">size</span><span class="sh">"</span><span class="p">:</span> <span class="mi">768</span><span class="p">,</span> <span class="sh">"</span><span class="s">denoise</span><span class="sh">"</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">},</span>    <span class="c1"># First upscale
</span>    <span class="p">{</span><span class="sh">"</span><span class="s">size</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span> <span class="sh">"</span><span class="s">denoise</span><span class="sh">"</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">},</span>   <span class="c1"># Second upscale
</span>    <span class="p">{</span><span class="sh">"</span><span class="s">size</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2048</span><span class="p">,</span> <span class="sh">"</span><span class="s">denoise</span><span class="sh">"</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">},</span>   <span class="c1"># Final upscale
</span><span class="p">]</span>

<span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="n">stages</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">stage</span><span class="p">[</span><span class="sh">"</span><span class="s">size</span><span class="sh">"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">512</span><span class="p">:</span>
        <span class="n">latent</span> <span class="o">=</span> <span class="nf">upscale_latent</span><span class="p">(</span><span class="n">latent</span><span class="p">,</span> <span class="n">stage</span><span class="p">[</span><span class="sh">"</span><span class="s">size</span><span class="sh">"</span><span class="p">])</span>
    
    <span class="n">latent</span> <span class="o">=</span> <span class="nf">generate</span><span class="p">(</span><span class="n">latent</span><span class="p">,</span> <span class="n">denoise</span><span class="o">=</span><span class="n">stage</span><span class="p">[</span><span class="sh">"</span><span class="s">denoise</span><span class="sh">"</span><span class="p">])</span>
</code></pre></div></div>

<h3 id="detail-enhancement-pipeline">Detail Enhancement Pipeline</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ComfyUI workflow
</span><span class="p">[</span><span class="n">Base</span> <span class="n">Generation</span><span class="p">]</span> <span class="err">→</span> <span class="p">[</span><span class="n">Face</span> <span class="n">Detector</span><span class="p">]</span> <span class="err">→</span> <span class="p">[</span><span class="n">Face</span> <span class="n">Enhancement</span><span class="p">]</span>
        <span class="err">↓</span>                                    <span class="err">↓</span>
   <span class="p">[</span><span class="n">Background</span><span class="p">]</span>     <span class="err">→</span>    <span class="p">[</span><span class="n">Composite</span><span class="p">]</span>    <span class="err">←</span>  <span class="p">[</span><span class="n">Enhanced</span> <span class="n">Face</span><span class="p">]</span>
        <span class="err">↓</span>
   <span class="p">[</span><span class="n">Final</span> <span class="n">Output</span><span class="p">]</span>
</code></pre></div></div>

<h3 id="style-mixing-workflow">Style Mixing Workflow</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Multi-model style mixing
</span><span class="n">models</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">photorealistic.ckpt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">artistic.ckpt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">anime.ckpt</span><span class="sh">"</span><span class="p">]</span>
<span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span>

<span class="c1"># Generate with each model
</span><span class="n">latents</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
    <span class="n">latent</span> <span class="o">=</span> <span class="nf">generate_with_model</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
    <span class="n">latents</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">latent</span><span class="p">)</span>

<span class="c1"># Weighted combination
</span><span class="n">final_latent</span> <span class="o">=</span> <span class="nf">sum</span><span class="p">(</span><span class="n">l</span> <span class="o">*</span> <span class="n">w</span> <span class="k">for</span> <span class="n">l</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nf">zip</span><span class="p">(</span><span class="n">latents</span><span class="p">,</span> <span class="n">weights</span><span class="p">))</span>
</code></pre></div></div>

<h2 id="optimization-techniques">Optimization Techniques</h2>

<h3 id="attention-optimization">Attention Optimization</h3>

<h4 id="flash-attention">Flash Attention</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Enable flash attention for speed
</span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">use_flash_attention</span><span class="sh">"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">attention_slice_size</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">auto</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">attention_processor</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">xformers</span><span class="sh">"</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="token-merging-tome">Token Merging (ToMe)</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">token_merging</span><span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="n">merge_ratio</span><span class="o">=</span><span class="mf">0.5</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Merge similar tokens to reduce computation</span><span class="sh">"""</span>
    <span class="c1"># Calculate similarity matrix
</span>    <span class="n">similarity</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">matmul</span><span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="n">tokens</span><span class="p">.</span><span class="nf">transpose</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
    
    <span class="c1"># Find most similar pairs
</span>    <span class="n">_</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">similarity</span><span class="p">.</span><span class="nf">topk</span><span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span> <span class="o">*</span> <span class="n">merge_ratio</span><span class="p">))</span>
    
    <span class="c1"># Merge tokens
</span>    <span class="n">merged</span> <span class="o">=</span> <span class="nf">average_similar_tokens</span><span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="n">indices</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">merged</span>
</code></pre></div></div>

<h3 id="memory-optimization">Memory Optimization</h3>

<h4 id="gradient-checkpointing">Gradient Checkpointing</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Trade compute for memory
</span><span class="n">model</span><span class="p">.</span><span class="nf">enable_gradient_checkpointing</span><span class="p">()</span>

<span class="c1"># Custom checkpointing
</span><span class="k">def</span> <span class="nf">checkpoint_forward</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">torch</span><span class="p">.</span><span class="n">utils</span><span class="p">.</span><span class="n">checkpoint</span><span class="p">.</span><span class="nf">checkpoint</span><span class="p">(</span>
        <span class="n">module</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">use_reentrant</span><span class="o">=</span><span class="bp">False</span>
    <span class="p">)</span>
</code></pre></div></div>

<h4 id="sequential-generation">Sequential Generation</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Generate in tiles for large images
</span><span class="k">def</span> <span class="nf">tiled_generation</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">tile_size</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">overlap</span><span class="o">=</span><span class="mi">64</span><span class="p">):</span>
    <span class="n">tiles</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tile_size</span> <span class="o">-</span> <span class="n">overlap</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tile_size</span> <span class="o">-</span> <span class="n">overlap</span><span class="p">):</span>
            <span class="n">tile</span> <span class="o">=</span> <span class="nf">generate_tile</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tile_size</span><span class="p">)</span>
            <span class="n">tiles</span><span class="p">.</span><span class="nf">append</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tile</span><span class="p">))</span>
    
    <span class="k">return</span> <span class="nf">blend_tiles</span><span class="p">(</span><span class="n">tiles</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">overlap</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="prompt-engineering-advanced">Prompt Engineering Advanced</h2>

<h3 id="semantic-prompt-optimization">Semantic Prompt Optimization</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">optimize_prompt</span><span class="p">(</span><span class="n">base_prompt</span><span class="p">,</span> <span class="n">target_features</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Iteratively optimize prompt for target features</span><span class="sh">"""</span>
    <span class="n">current_prompt</span> <span class="o">=</span> <span class="n">base_prompt</span>
    
    <span class="k">for</span> <span class="n">iteration</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="c1"># Generate with current prompt
</span>        <span class="n">features</span> <span class="o">=</span> <span class="nf">extract_features</span><span class="p">(</span><span class="nf">generate</span><span class="p">(</span><span class="n">current_prompt</span><span class="p">))</span>
        
        <span class="c1"># Calculate feature difference
</span>        <span class="n">diff</span> <span class="o">=</span> <span class="n">target_features</span> <span class="o">-</span> <span class="n">features</span>
        
        <span class="c1"># Update prompt based on difference
</span>        <span class="n">current_prompt</span> <span class="o">=</span> <span class="nf">update_prompt</span><span class="p">(</span><span class="n">current_prompt</span><span class="p">,</span> <span class="n">diff</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="nf">convergence_reached</span><span class="p">(</span><span class="n">diff</span><span class="p">):</span>
            <span class="k">break</span>
    
    <span class="k">return</span> <span class="n">current_prompt</span>
</code></pre></div></div>

<h3 id="prompt-expansion">Prompt Expansion</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">expand_prompt</span><span class="p">(</span><span class="n">simple_prompt</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Expand simple prompt with quality modifiers</span><span class="sh">"""</span>
    <span class="n">quality_tags</span> <span class="o">=</span> <span class="p">[</span>
        <span class="sh">"</span><span class="s">highly detailed</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">4k</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">professional</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">award winning</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">trending on artstation</span><span class="sh">"</span>
    <span class="p">]</span>
    
    <span class="n">style_hints</span> <span class="o">=</span> <span class="nf">analyze_intended_style</span><span class="p">(</span><span class="n">simple_prompt</span><span class="p">)</span>
    
    <span class="n">expanded</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">simple_prompt</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">quality_tags</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span>
    <span class="k">if</span> <span class="n">style_hints</span><span class="p">:</span>
        <span class="n">expanded</span> <span class="o">+=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">, </span><span class="si">{</span><span class="n">style_hints</span><span class="si">}</span><span class="sh">"</span>
    
    <span class="k">return</span> <span class="n">expanded</span>
</code></pre></div></div>

<h2 id="custom-sampling-algorithms">Custom Sampling Algorithms</h2>

<h3 id="ancestral-sampling-with-temperature">Ancestral Sampling with Temperature</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">ancestral_sample_with_temp</span><span class="p">(</span><span class="n">noise_pred</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Ancestral sampling with temperature control</span><span class="sh">"""</span>
    <span class="c1"># Add noise with temperature scaling
</span>    <span class="n">noise</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">randn_like</span><span class="p">(</span><span class="n">noise_pred</span><span class="p">)</span> <span class="o">*</span> <span class="n">temperature</span>
    
    <span class="c1"># Ancestral update
</span>    <span class="n">sigma_down</span> <span class="o">=</span> <span class="p">(</span><span class="n">sigma</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">sigma_next</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span>
    <span class="n">x_next</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">sigma_down</span> <span class="o">*</span> <span class="p">(</span><span class="n">noise_pred</span> <span class="o">+</span> <span class="n">noise</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">x_next</span>
</code></pre></div></div>

<h3 id="importance-sampling">Importance Sampling</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">importance_sampling</span><span class="p">(</span><span class="n">latents</span><span class="p">,</span> <span class="n">condition</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Generate multiple samples and select best</span><span class="sh">"""</span>
    <span class="n">samples</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">num_samples</span><span class="p">):</span>
        <span class="n">sample</span> <span class="o">=</span> <span class="nf">generate_sample</span><span class="p">(</span><span class="n">latents</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span>
        <span class="n">score</span> <span class="o">=</span> <span class="nf">evaluate_quality</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span>
        <span class="n">samples</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">scores</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
    
    <span class="c1"># Return best sample
</span>    <span class="n">best_idx</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nf">argmax</span><span class="p">(</span><span class="n">torch</span><span class="p">.</span><span class="nf">tensor</span><span class="p">(</span><span class="n">scores</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">samples</span><span class="p">[</span><span class="n">best_idx</span><span class="p">]</span>
</code></pre></div></div>

<h2 id="advanced-controlnet-techniques">Advanced ControlNet Techniques</h2>

<h3 id="multi-scale-control">Multi-Scale Control</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Apply control at different resolutions
</span><span class="n">control_scales</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="sh">"</span><span class="s">resolution</span><span class="sh">"</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span> <span class="sh">"</span><span class="s">strength</span><span class="sh">"</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">},</span>
    <span class="p">{</span><span class="sh">"</span><span class="s">resolution</span><span class="sh">"</span><span class="p">:</span> <span class="mi">512</span><span class="p">,</span> <span class="sh">"</span><span class="s">strength</span><span class="sh">"</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">},</span>
    <span class="p">{</span><span class="sh">"</span><span class="s">resolution</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span> <span class="sh">"</span><span class="s">strength</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">scale</span> <span class="ow">in</span> <span class="n">control_scales</span><span class="p">:</span>
    <span class="n">control_resized</span> <span class="o">=</span> <span class="nf">resize</span><span class="p">(</span><span class="n">control_image</span><span class="p">,</span> <span class="n">scale</span><span class="p">[</span><span class="sh">"</span><span class="s">resolution</span><span class="sh">"</span><span class="p">])</span>
    <span class="nf">apply_control</span><span class="p">(</span><span class="n">control_resized</span><span class="p">,</span> <span class="n">scale</span><span class="p">[</span><span class="sh">"</span><span class="s">strength</span><span class="sh">"</span><span class="p">])</span>
</code></pre></div></div>

<h3 id="temporal-controlnet">Temporal ControlNet</h3>

<p>For video consistency:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">temporal_controlnet</span><span class="p">(</span><span class="n">frames</span><span class="p">,</span> <span class="n">control_strength_decay</span><span class="o">=</span><span class="mf">0.95</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Apply control with temporal decay</span><span class="sh">"""</span>
    <span class="n">previous_control</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">controlled_frames</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">frame</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">frames</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">previous_control</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># Blend with previous frame's control
</span>            <span class="n">current_control</span> <span class="o">=</span> <span class="nf">blend_controls</span><span class="p">(</span>
                <span class="nf">extract_control</span><span class="p">(</span><span class="n">frame</span><span class="p">),</span>
                <span class="n">previous_control</span><span class="p">,</span>
                <span class="n">alpha</span><span class="o">=</span><span class="n">control_strength_decay</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">current_control</span> <span class="o">=</span> <span class="nf">extract_control</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
        
        <span class="n">controlled_frame</span> <span class="o">=</span> <span class="nf">generate_with_control</span><span class="p">(</span>
            <span class="n">frame</span><span class="p">,</span> <span class="n">current_control</span>
        <span class="p">)</span>
        <span class="n">controlled_frames</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">controlled_frame</span><span class="p">)</span>
        <span class="n">previous_control</span> <span class="o">=</span> <span class="n">current_control</span>
    
    <span class="k">return</span> <span class="n">controlled_frames</span>
</code></pre></div></div>

<h2 id="experimental-techniques">Experimental Techniques</h2>

<h3 id="diffusion-distillation">Diffusion Distillation</h3>

<p>Create faster models:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Progressive distillation
</span><span class="n">teacher_steps</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">student_steps</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c1"># Train student to match teacher
</span><span class="k">for</span> <span class="n">batch</span> <span class="ow">in</span> <span class="n">training_data</span><span class="p">:</span>
    <span class="n">teacher_output</span> <span class="o">=</span> <span class="nf">teacher_model</span><span class="p">(</span><span class="n">batch</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="n">teacher_steps</span><span class="p">)</span>
    <span class="n">student_output</span> <span class="o">=</span> <span class="nf">student_model</span><span class="p">(</span><span class="n">batch</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="n">student_steps</span><span class="p">)</span>
    
    <span class="n">loss</span> <span class="o">=</span> <span class="nf">mse_loss</span><span class="p">(</span><span class="n">student_output</span><span class="p">,</span> <span class="n">teacher_output</span><span class="p">.</span><span class="nf">detach</span><span class="p">())</span>
    <span class="nf">optimize_student</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="consistency-models">Consistency Models</h3>

<p>Single-step generation:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Consistency training
</span><span class="k">def</span> <span class="nf">consistency_loss</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">x_t</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Train model to be consistent across timesteps</span><span class="sh">"""</span>
    <span class="c1"># Get two adjacent timesteps
</span>    <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span> <span class="o">=</span> <span class="nf">get_adjacent_timesteps</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    
    <span class="c1"># Model should produce same output
</span>    <span class="n">output1</span> <span class="o">=</span> <span class="nf">model</span><span class="p">(</span><span class="n">x_t</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>
    <span class="n">output2</span> <span class="o">=</span> <span class="nf">model</span><span class="p">(</span><span class="n">x_t</span><span class="p">,</span> <span class="n">t2</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="nf">mse_loss</span><span class="p">(</span><span class="n">output1</span><span class="p">,</span> <span class="n">output2</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="neural-codec-integration">Neural Codec Integration</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Compress latents with neural codec
</span><span class="n">encoded</span> <span class="o">=</span> <span class="n">neural_codec</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="n">latent</span><span class="p">)</span>  <span class="c1"># Ultra-compressed
</span><span class="n">transmitted</span> <span class="o">=</span> <span class="nf">send_over_network</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span>
<span class="n">decoded</span> <span class="o">=</span> <span class="n">neural_codec</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="n">transmitted</span><span class="p">)</span>
<span class="n">final_image</span> <span class="o">=</span> <span class="n">vae</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="n">decoded</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="workflow-automation">Workflow Automation</h2>

<h3 id="batch-processing-pipeline">Batch Processing Pipeline</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">BatchPipeline</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">base_workflow</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">workflow</span> <span class="o">=</span> <span class="n">base_workflow</span>
        <span class="n">self</span><span class="p">.</span><span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">def</span> <span class="nf">process_batch</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">variations</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">input_data</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">variation</span> <span class="ow">in</span> <span class="n">variations</span><span class="p">:</span>
                <span class="c1"># Apply variation
</span>                <span class="n">modified_workflow</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">apply_variation</span><span class="p">(</span>
                    <span class="n">self</span><span class="p">.</span><span class="n">workflow</span><span class="p">,</span> <span class="n">variation</span>
                <span class="p">)</span>
                
                <span class="c1"># Generate
</span>                <span class="n">result</span> <span class="o">=</span> <span class="nf">execute_workflow</span><span class="p">(</span>
                    <span class="n">modified_workflow</span><span class="p">,</span> <span class="n">input_data</span>
                <span class="p">)</span>
                
                <span class="n">self</span><span class="p">.</span><span class="n">results</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                    <span class="sh">"</span><span class="s">input</span><span class="sh">"</span><span class="p">:</span> <span class="n">input_data</span><span class="p">,</span>
                    <span class="sh">"</span><span class="s">variation</span><span class="sh">"</span><span class="p">:</span> <span class="n">variation</span><span class="p">,</span>
                    <span class="sh">"</span><span class="s">output</span><span class="sh">"</span><span class="p">:</span> <span class="n">result</span>
                <span class="p">})</span>
    
    <span class="k">def</span> <span class="nf">apply_variation</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">workflow</span><span class="p">,</span> <span class="n">variation</span><span class="p">):</span>
        <span class="c1"># Modify workflow parameters
</span>        <span class="k">return</span> <span class="n">modified_workflow</span>
</code></pre></div></div>

<h3 id="ab-testing-framework">A/B Testing Framework</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">ab_test_parameters</span><span class="p">(</span><span class="n">base_config</span><span class="p">,</span> <span class="n">test_params</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Test different parameter combinations</span><span class="sh">"""</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">param_name</span><span class="p">,</span> <span class="n">param_values</span> <span class="ow">in</span> <span class="n">test_params</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="n">param_results</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">param_values</span><span class="p">:</span>
            <span class="c1"># Update config
</span>            <span class="n">test_config</span> <span class="o">=</span> <span class="n">base_config</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>
            <span class="n">test_config</span><span class="p">[</span><span class="n">param_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            
            <span class="c1"># Generate samples
</span>            <span class="n">samples</span> <span class="o">=</span> <span class="nf">generate_samples</span><span class="p">(</span><span class="n">test_config</span><span class="p">,</span> <span class="n">num_samples</span><span class="p">)</span>
            
            <span class="c1"># Evaluate quality
</span>            <span class="n">quality_score</span> <span class="o">=</span> <span class="nf">evaluate_batch</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span>
            <span class="n">param_results</span><span class="p">.</span><span class="nf">append</span><span class="p">((</span><span class="n">value</span><span class="p">,</span> <span class="n">quality_score</span><span class="p">))</span>
        
        <span class="n">results</span><span class="p">[</span><span class="n">param_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_results</span>
    
    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></div>

<h2 id="performance-monitoring">Performance Monitoring</h2>

<h3 id="generation-metrics">Generation Metrics</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">GenerationProfiler</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">metrics</span> <span class="o">=</span> <span class="nf">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">profile_generation</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">workflow</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">torch</span><span class="p">.</span><span class="n">profiler</span><span class="p">.</span><span class="nf">profile</span><span class="p">()</span> <span class="k">as</span> <span class="n">prof</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="nf">execute_workflow</span><span class="p">(</span><span class="n">workflow</span><span class="p">)</span>
        
        <span class="c1"># Extract metrics
</span>        <span class="n">self</span><span class="p">.</span><span class="n">metrics</span><span class="p">[</span><span class="sh">"</span><span class="s">total_time</span><span class="sh">"</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">prof</span><span class="p">.</span><span class="n">total_time</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">metrics</span><span class="p">[</span><span class="sh">"</span><span class="s">memory_used</span><span class="sh">"</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="nf">max_memory_allocated</span><span class="p">())</span>
        <span class="n">self</span><span class="p">.</span><span class="n">metrics</span><span class="p">[</span><span class="sh">"</span><span class="s">quality_score</span><span class="sh">"</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="nf">assess_quality</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
        
        <span class="k">return</span> <span class="n">output</span>
    
    <span class="k">def</span> <span class="nf">get_report</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">metric</span><span class="p">:</span> <span class="p">{</span>
                <span class="sh">"</span><span class="s">mean</span><span class="sh">"</span><span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="nf">mean</span><span class="p">(</span><span class="n">values</span><span class="p">),</span>
                <span class="sh">"</span><span class="s">std</span><span class="sh">"</span><span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="nf">std</span><span class="p">(</span><span class="n">values</span><span class="p">),</span>
                <span class="sh">"</span><span class="s">min</span><span class="sh">"</span><span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="n">values</span><span class="p">),</span>
                <span class="sh">"</span><span class="s">max</span><span class="sh">"</span><span class="p">:</span> <span class="n">np</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">metric</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">metrics</span><span class="p">.</span><span class="nf">items</span><span class="p">()</span>
        <span class="p">}</span>
</code></pre></div></div>

<h2 id="best-practices">Best Practices</h2>

<h3 id="workflow-design">Workflow Design</h3>

<ol>
  <li><strong>Modularity</strong>: Build reusable components</li>
  <li><strong>Validation</strong>: Test each stage independently</li>
  <li><strong>Documentation</strong>: Comment complex operations</li>
  <li><strong>Version Control</strong>: Track workflow changes</li>
  <li><strong>Performance</strong>: Profile and optimize bottlenecks</li>
</ol>

<h3 id="experimentation-guidelines">Experimentation Guidelines</h3>

<ol>
  <li><strong>Controlled Testing</strong>: Change one variable at a time</li>
  <li><strong>Reproducibility</strong>: Fix seeds for comparisons</li>
  <li><strong>Metrics</strong>: Define clear success criteria</li>
  <li><strong>Iteration</strong>: Start simple, add complexity</li>
  <li><strong>Documentation</strong>: Record successful configurations</li>
</ol>

<h2 id="conclusion">Conclusion</h2>

<p>Advanced techniques open up new possibilities in AI image generation, from precise control over the generation process to optimization for specific use cases. The key to mastering these techniques is understanding the underlying principles and experimenting with different combinations to achieve your desired results.</p>

<p>As the field evolves rapidly, staying updated with the latest research and community developments will help you leverage new techniques as they emerge. Remember that the most impressive results often come from creative combinations of multiple techniques rather than relying on any single advanced method.</p>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>
        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/Documentation/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 Andrews Notebook. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/Documentation/assets/js/main.min.js"></script>










  </body>
</html>
