<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

<!-- SEO Meta Tags -->
<meta name="description" content="Technology and Physics notes">
<meta name="author" content="Andrew">

<!-- Open Graph -->
<meta property="og:title" content="Docker: Dockerfiles & CI/CD">
<meta property="og:description" content="Technology and Physics notes">
<meta property="og:type" content="website">
<meta property="og:url" content="https://andrewaltimit.github.io/Documentation/docs/technology/docker/dockerfiles.html">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Docker: Dockerfiles & CI/CD">
<meta name="twitter:description" content="Technology and Physics notes">

<title>Docker: Dockerfiles & CI/CD | Andrews Notebook</title>


  <link href="/Documentation/feed.xml" type="application/atom+xml" rel="alternate" title="Andrews Notebook Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/Documentation/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>

<!-- Custom styles -->
<!-- MathJax for LaTeX equation rendering -->
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true,
    processEnvironments: true
  },
  options: {
    skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
/* MathJax equation styling */
mjx-container {
  overflow-x: auto;
  overflow-y: hidden;
  max-width: 100%;
}

mjx-container[display="true"] {
  display: block !important;
  margin: 1.5em 0 !important;
  text-align: center;
}

mjx-container[display="true"] svg {
  max-width: 100%;
  height: auto;
}

/* Inline equations */
mjx-container:not([display="true"]) {
  display: inline !important;
  margin: 0 0.1em;
}

/* Equation numbering (if used) */
.MathJax .mjx-mtr {
  margin: 0.25em 0;
}

/* Better scrolling for wide equations on mobile */
@media (max-width: 768px) {
  mjx-container[display="true"] {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
}
</style>

<!-- Custom styles for documentation -->
<link rel="stylesheet" href="/Documentation/style.css?v=2.0.1">
<link rel="stylesheet" href="/Documentation/assets/css/condensed.css?v=2.0.1">
<style>
  /* Widescreen optimized layout */
  body {
    overflow-x: hidden;
    margin: 0;
    padding: 0;
  }
  
  /* Main container - full width */
  #main {
    display: flex;
    position: relative;
    min-height: 100vh;
    width: 100%;
    max-width: 100%;
  }
  
  /* Sidebar fixed to left edge */
  .sidebar.sticky {
    position: fixed;
    left: 0;
    top: 0;
    width: 280px;
    height: 100vh;
    overflow-y: auto;
    background-color: #f8f9fa;
    border-right: 1px solid #e1e4e8;
    padding: 2rem 1rem;
    z-index: 100;
  }
  
  /* Sidebar navigation styling */
  .nav__list {
    margin: 0;
    padding: 0;
    list-style: none;
  }
  
  .nav__title {
    margin: 1.5rem 0 0.5rem;
    padding: 0.25rem 0;
    font-size: 0.75rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: #666;
    border-bottom: 1px solid #e1e4e8;
  }
  
  .nav__items {
    margin: 0;
    padding: 0;
    list-style: none;
  }
  
  .nav__items a {
    display: block;
    padding: 0.3rem 0.75rem;
    font-size: 0.875rem;
    color: #333;
    text-decoration: none;
    border-left: 3px solid transparent;
    transition: all 0.2s ease;
  }
  
  .nav__items a:hover {
    color: #0066cc;
    background-color: rgba(0, 102, 204, 0.05);
    border-left-color: #0066cc;
  }
  
  .nav__items a.active {
    color: #0066cc;
    font-weight: 600;
    border-left-color: #0066cc;
    background-color: rgba(0, 102, 204, 0.05);
  }

  /* Collapsible navigation sections */
  .nav__item--collapsible {
    margin: 0.25rem 0;
  }

  .nav__item--collapsible details {
    margin: 0;
  }

  .nav__item--collapsible summary {
    display: flex;
    align-items: center;
    padding: 0.3rem 0.75rem;
    font-size: 0.875rem;
    color: #333;
    cursor: pointer;
    border-left: 3px solid transparent;
    transition: all 0.2s ease;
    list-style: none;
  }

  .nav__item--collapsible summary::-webkit-details-marker {
    display: none;
  }

  .nav__item--collapsible summary::before {
    content: "▸";
    display: inline-block;
    margin-right: 0.5rem;
    font-size: 0.7rem;
    transition: transform 0.2s ease;
  }

  .nav__item--collapsible details[open] > summary::before {
    transform: rotate(90deg);
  }

  .nav__item--collapsible summary:hover {
    color: #0066cc;
    background-color: rgba(0, 102, 204, 0.05);
    border-left-color: #0066cc;
  }

  .nav__item--collapsible summary a {
    display: inline;
    padding: 0;
    border-left: none;
    font-weight: 500;
  }

  .nav__item--collapsible summary a:hover {
    background: none;
    border-left: none;
  }

  .nav__item--collapsible summary a.active {
    color: #0066cc;
    font-weight: 600;
    background: none;
    border-left: none;
  }

  /* Nested sub-items */
  .nav__subitems {
    margin: 0;
    padding: 0;
    list-style: none;
    padding-left: 1.25rem;
    border-left: 1px solid #e1e4e8;
    margin-left: 1rem;
  }

  .nav__subitems li {
    margin: 0;
  }

  .nav__subitems a {
    display: block;
    padding: 0.25rem 0.5rem;
    font-size: 0.8125rem;
    color: #555;
    text-decoration: none;
    border-left: 2px solid transparent;
    transition: all 0.2s ease;
  }

  .nav__subitems a:hover {
    color: #0066cc;
    background-color: rgba(0, 102, 204, 0.03);
    border-left-color: #0066cc;
  }

  .nav__subitems a.active {
    color: #0066cc;
    font-weight: 600;
    border-left-color: #0066cc;
    background-color: rgba(0, 102, 204, 0.05);
  }

  /* Content area with left margin for sidebar */
  article.page {
    margin-left: 280px;
    min-height: 100vh;
    background: white;
    width: calc(100% - 280px);
    max-width: none;
  }
  
  /* Content wrapper - use full width */
  .page__inner-wrap {
    max-width: none;
    margin: 0;
    padding: 2rem 3rem;
  }
  
  .page__title {
    margin-top: 0;
    margin-bottom: 2rem;
    font-size: 2.5rem;
    font-weight: 700;
    line-height: 1.2;
  }
  
  /* Let content use available width */
  .page__content {
    max-width: none;
    width: 100%;
  }
  
  /* For optimal reading, constrain just the text paragraphs */
  .page__content > p,
  .page__content > ul,
  .page__content > ol {
    max-width: 65ch;
  }
  
  /* Let code blocks, tables, and special content use full width */
  .page__content pre,
  .page__content table,
  .page__content .noteBoxes,
  .page__content figure,
  .page__content .highlight {
    max-width: 100%;
  }
  
  /* Wide note boxes */
  .noteBoxes {
    width: 90% !important;
    max-width: 800px;
  }
  
  /* Tables use available width */
  table {
    width: 100%;
    max-width: 100%;
  }
  
  /* Code blocks optimization */
  pre {
    max-width: 100%;
    overflow-x: auto;
  }
  
  .highlight {
    max-width: 100%;
    margin: 1rem 0;
  }
  
  /* Responsive adjustments */
  @media (min-width: 2000px) {
    .sidebar.sticky {
      width: 320px;
    }
    
    article.page {
      margin-left: 320px;
      width: calc(100% - 320px);
    }
    
    .page__inner-wrap {
      padding: 2rem 4rem;
    }
    
    .page__content > p,
    .page__content > ul,
    .page__content > ol {
      max-width: 75ch;
    }
  }
  
  @media (min-width: 1024px) and (max-width: 1439px) {
    .sidebar.sticky {
      width: 250px;
    }
    
    article.page {
      margin-left: 250px;
      width: calc(100% - 250px);
    }
    
    .page__inner-wrap {
      padding: 2rem 2rem;
    }
  }
  
  /* Tablet and mobile */
  @media (max-width: 1023px) {
    #main {
      flex-direction: column;
    }
    
    .sidebar.sticky {
      position: relative;
      width: 100%;
      height: auto;
      border-right: none;
      border-bottom: 1px solid #e1e4e8;
      padding: 1rem;
    }
    
    article.page {
      margin-left: 0;
      width: 100%;
    }
    
    .page__inner-wrap {
      padding: 1rem;
    }
    
    .page__content > p,
    .page__content > ul,
    .page__content > ol {
      max-width: 100%;
    }
  }
  
  /* Mobile navigation toggle */
  .nav-toggle {
    display: none;
  }
  
  @media (max-width: 1023px) {
    .nav-toggle {
      display: block;
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 200;
      background: #0066cc;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    
    .sidebar.sticky {
      position: fixed;
      left: -100%;
      top: 0;
      transition: left 0.3s ease;
      z-index: 150;
      height: 100vh;
      width: 280px;
    }
    
    .sidebar.sticky.active {
      left: 0;
    }
    
    .sidebar-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 140;
    }
    
    .sidebar-overlay.active {
      display: block;
    }
    
    article.page {
      margin-left: 0;
      width: 100%;
    }
  }
</style>

<!-- Mobile navigation toggle script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Mobile menu functionality
  if (window.innerWidth <= 1023) {
    if (!document.querySelector('.nav-toggle')) {
      const toggleBtn = document.createElement('button');
      toggleBtn.className = 'nav-toggle';
      toggleBtn.innerHTML = '☰ Menu';
      toggleBtn.setAttribute('aria-label', 'Toggle navigation menu');
      document.body.appendChild(toggleBtn);
      
      const overlay = document.createElement('div');
      overlay.className = 'sidebar-overlay';
      document.body.appendChild(overlay);
      
      toggleBtn.addEventListener('click', function() {
        const sidebar = document.querySelector('.sidebar.sticky');
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
      });
      
      overlay.addEventListener('click', function() {
        const sidebar = document.querySelector('.sidebar.sticky');
        sidebar.classList.remove('active');
        overlay.classList.remove('active');
      });
    }
  }
  
  // Handle window resize
  let resizeTimer;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() {
      const sidebar = document.querySelector('.sidebar.sticky');
      const overlay = document.querySelector('.sidebar-overlay');
      const toggle = document.querySelector('.nav-toggle');
      
      if (window.innerWidth > 1023) {
        if (sidebar) sidebar.classList.remove('active');
        if (overlay) overlay.classList.remove('active');
        if (toggle) toggle.style.display = 'none';
      } else {
        if (toggle) toggle.style.display = 'block';
      }
    }, 250);
  });
});
</script>


  
    <script src="/Documentation/assets/js/custom.js"></script>
  

</head>
<body>
  <div id="main" role="main">
  <aside class="sidebar sticky">
    <nav class="nav__list">
      
        
          <h3 class="nav__title">Navigation</h3>
          
            <ul class="nav__items">
              
                <li>
                    <a href="/Documentation/docs/topic-map.html"
                       >
                      <span class="nav__sub-title">Topic Map</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/search.html"
                       >
                      <span class="nav__sub-title">Search</span>
                    </a>
                  </li>
                
              
            </ul>
          
        
          <h3 class="nav__title">Technology</h3>
          
            <ul class="nav__items">
              
                <li>
                    <a href="/Documentation/docs/technology/index.html"
                       >
                      <span class="nav__sub-title">Technology Overview</span>
                    </a>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="aws">
                      <summary>
                        
                          <a href="/Documentation/docs/technology/aws/"
                             >
                            AWS
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/technology/aws/compute.html"
                               >
                              Compute
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/aws/storage.html"
                               >
                              Storage
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/aws/databases.html"
                               >
                              Databases
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/aws/networking.html"
                               >
                              Networking
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/aws/security.html"
                               >
                              Security
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/aws/infrastructure.html"
                               >
                              Infrastructure
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="terraform">
                      <summary>
                        
                          <a href="/Documentation/docs/technology/terraform/"
                             >
                            Terraform
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/technology/terraform/core-concepts.html"
                               >
                              Core Concepts
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/terraform/state-modules.html"
                               >
                              State & Modules
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/terraform/patterns.html"
                               >
                              Enterprise Patterns
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/terraform/advanced.html"
                               >
                              Advanced Topics
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="kubernetes">
                      <summary>
                        
                          <a href="/Documentation/docs/technology/kubernetes/"
                             >
                            Kubernetes
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/technology/kubernetes/fundamentals.html"
                               >
                              Fundamentals
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/kubernetes/workloads.html"
                               >
                              Workloads & Storage
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/kubernetes/operations.html"
                               >
                              Operations
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/kubernetes/advanced.html"
                               >
                              Advanced Topics
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details open data-nav-section="docker">
                      <summary>
                        
                          <a href="/Documentation/docs/technology/docker/"
                             >
                            Docker
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/technology/docker/fundamentals.html"
                               >
                              Fundamentals
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/docker/storage-security.html"
                               >
                              Storage & Security
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/docker/dockerfiles.html"
                               class="active">
                              Dockerfiles & CI/CD
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/docker/advanced.html"
                               >
                              Advanced Patterns
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="version-control">
                      <summary>
                        
                          <a href="/Documentation/docs/technology/git.html"
                             >
                            Version Control
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/technology/git-crash-course.html"
                               >
                              Git Fundamentals
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/git.html"
                               >
                              Git Internals
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/git-reference.html"
                               >
                              Command Reference
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/branching.html"
                               >
                              Branching Strategies
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="devops-ci-cd">
                      <summary>
                        
                          <a href="/Documentation/docs/technology/ci-cd.html"
                             >
                            DevOps & CI/CD
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/technology/ci-cd.html"
                               >
                              CI/CD Pipelines
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/please-build.html"
                               >
                              Please Build
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="infrastructure">
                      <summary>
                        
                          <a href="/Documentation/docs/technology/networking.html"
                             >
                            Infrastructure
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/technology/networking.html"
                               >
                              Networking
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/database-crash-course.html"
                               >
                              Database Fundamentals
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/database-design.html"
                               >
                              Database Design
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/cybersecurity.html"
                               >
                              Cybersecurity
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="ai-foundations">
                      <summary>
                        
                          <a href="/Documentation/docs/technology/ai.html"
                             >
                            AI Foundations
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/technology/ai.html"
                               >
                              AI Fundamentals
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/ai-fundamentals-simple.html"
                               >
                              AI Simplified
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/ai-lecture-2023.html"
                               >
                              AI Lecture 2023
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/technology/unreal.html"
                       >
                      <span class="nav__sub-title">Unreal Engine</span>
                    </a>
                  </li>
                
              
            </ul>
          
        
          <h3 class="nav__title">Specialized Topics</h3>
          
            <ul class="nav__items">
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="computing">
                      <summary>
                        
                          <a href="/Documentation/docs/distributed-systems/index.html"
                             >
                            Computing
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/distributed-systems/index.html"
                               >
                              Distributed Systems
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/technology/quantumcomputing.html"
                               >
                              Quantum Computing
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/quantum-computing/index.html"
                               >
                              Quantum Computing Hub
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/artificial-intelligence/index.html"
                               >
                              AI Hub
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="creative-development">
                      <summary>
                        
                          <a href="/Documentation/docs/gamedev/index.html"
                             >
                            Creative Development
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/gamedev/index.html"
                               >
                              Game Development
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/graphics/3d-rendering.html"
                               >
                              3D Graphics
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/vr-ar/index.html"
                               >
                              VR/AR Development
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/optimization/index.html"
                       >
                      <span class="nav__sub-title">Performance Optimization</span>
                    </a>
                  </li>
                
              
            </ul>
          
        
          <h3 class="nav__title">AI/ML - Generative AI</h3>
          
            <ul class="nav__items">
              
                <li>
                    <a href="/Documentation/docs/ai-ml/index.html"
                       >
                      <span class="nav__sub-title">AI/ML Overview</span>
                    </a>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="fundamentals">
                      <summary>
                        
                          <a href="/Documentation/docs/ai-ml/stable-diffusion-fundamentals.html"
                             >
                            Fundamentals
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/ai-ml/stable-diffusion-fundamentals.html"
                               >
                              Stable Diffusion
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/ai-ml/base-models-comparison.html"
                               >
                              Base Models
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/ai-ml/model-types.html"
                               >
                              Model Types
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="training-tools">
                      <summary>
                        
                          <a href="/Documentation/docs/ai-ml/lora-training.html"
                             >
                            Training & Tools
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/ai-ml/lora-training.html"
                               >
                              LoRA Training
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/ai-ml/controlnet.html"
                               >
                              ControlNet
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/ai-ml/comfyui-guide.html"
                               >
                              ComfyUI
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="production">
                      <summary>
                        
                          <a href="/Documentation/docs/ai-ml/output-formats.html"
                             >
                            Production
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/ai-ml/output-formats.html"
                               >
                              Output Formats
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/ai-ml/advanced-techniques.html"
                               >
                              Advanced Techniques
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
            </ul>
          
        
          <h3 class="nav__title">Physics</h3>
          
            <ul class="nav__items">
              
                <li>
                    <a href="/Documentation/docs/physics/index.html"
                       >
                      <span class="nav__sub-title">Physics Overview</span>
                    </a>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="classical-physics">
                      <summary>
                        
                          <a href="/Documentation/docs/physics/classical-mechanics.html"
                             >
                            Classical Physics
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/physics/classical-mechanics.html"
                               >
                              Classical Mechanics
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/physics/thermodynamics.html"
                               >
                              Thermodynamics
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/physics/statistical-mechanics.html"
                               >
                              Statistical Mechanics
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="quantum-modern">
                      <summary>
                        
                          <a href="/Documentation/docs/physics/quantum-mechanics.html"
                             >
                            Quantum & Modern
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/physics/quantum-mechanics.html"
                               >
                              Quantum Mechanics
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/physics/relativity.html"
                               >
                              Relativity
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/physics/quantum-field-theory.html"
                               >
                              Quantum Field Theory
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
                
                  
                  
                  <li class="nav__item--collapsible">
                    <details  data-nav-section="advanced-topics">
                      <summary>
                        
                          <a href="/Documentation/docs/physics/condensed-matter.html"
                             >
                            Advanced Topics
                          </a>
                        
                      </summary>
                      <ul class="nav__subitems">
                        
                          <li>
                            <a href="/Documentation/docs/physics/condensed-matter.html"
                               >
                              Condensed Matter
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/physics/string-theory.html"
                               >
                              String Theory
                            </a>
                          </li>
                        
                          <li>
                            <a href="/Documentation/docs/physics/computational-physics.html"
                               >
                              Computational Physics
                            </a>
                          </li>
                        
                      </ul>
                    </details>
                  </li>
                
              
            </ul>
          
        
          <h3 class="nav__title">Advanced Topics</h3>
          
            <ul class="nav__items">
              
                <li>
                    <a href="/Documentation/docs/advanced/index.html"
                       >
                      <span class="nav__sub-title">Research Hub</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/advanced/ai-mathematics/"
                       >
                      <span class="nav__sub-title">AI Mathematics</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/advanced/distributed-systems-theory/"
                       >
                      <span class="nav__sub-title">Distributed Systems Theory</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/advanced/quantum-algorithms-research/"
                       >
                      <span class="nav__sub-title">Quantum Algorithms Research</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/advanced/monorepo/"
                       >
                      <span class="nav__sub-title">Monorepo Architecture</span>
                    </a>
                  </li>
                
              
            </ul>
          
        
          <h3 class="nav__title">Quick Reference</h3>
          
            <ul class="nav__items">
              
                <li>
                    <a href="/Documentation/docs/reference/index.html"
                       >
                      <span class="nav__sub-title">Reference Guide</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/reference/index.html#command-line-references"
                       >
                      <span class="nav__sub-title">Command Cheat Sheets</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/reference/index.html#physics-formulas--constants"
                       >
                      <span class="nav__sub-title">Physics Formulas</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/reference/index.html#algorithms--data-structures"
                       >
                      <span class="nav__sub-title">Algorithms & Big O</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/reference/index.html#api-reference-patterns"
                       >
                      <span class="nav__sub-title">API Patterns</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/reference/index.html#troubleshooting-flowcharts"
                       >
                      <span class="nav__sub-title">Troubleshooting</span>
                    </a>
                  </li>
                
              
                <li>
                    <a href="/Documentation/docs/reference/index.html#best-practices-checklists"
                       >
                      <span class="nav__sub-title">Best Practices</span>
                    </a>
                  </li>
                
              
            </ul>
          
        
      
    </nav>
  </aside>

  <article class="page">
    <div class="page__inner-wrap">
      <header>
        
      </header>

      <section class="page__content">
        <div class="hero-section" style="background: linear-gradient(135deg, #0066cc 0%, #00aaff 100%); color: white; padding: 3rem 2rem; margin: -2rem -3rem 2rem -3rem; text-align: center;">
  <h1 style="color: white; margin: 0; font-size: 2.5rem;">Docker: Dockerfiles &amp; CI/CD</h1>
  <p style="font-size: 1.25rem; margin-top: 1rem; opacity: 0.9;">Build optimized container images and integrate Docker into your continuous integration and deployment pipelines.</p>
</div>

<h2 id="writing-dockerfiles">Writing Dockerfiles</h2>

<p>A Dockerfile is a recipe for building a Docker image. It defines exactly what goes into your container: the operating system, libraries, configuration, and application code. When you share a Dockerfile, anyone can reproduce your exact environment.</p>

<h3 id="why-dockerfiles-matter">Why Dockerfiles Matter</h3>

<p>Consider the following benefits:</p>

<ul>
  <li><strong>Reproducibility</strong>: The same Dockerfile always produces the same image (given the same build context)</li>
  <li><strong>Documentation</strong>: The Dockerfile serves as documentation for your environment</li>
  <li><strong>Automation</strong>: CI/CD pipelines can automatically build images from Dockerfiles</li>
  <li><strong>Version control</strong>: Track environment changes alongside code changes</li>
</ul>

<h3 id="your-first-dockerfile">Your First Dockerfile</h3>

<p>A Dockerfile consists of instructions, each creating a layer in the final image. Here is a minimal but complete example:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> python:3.12-slim    # Start from an official base image</span>
<span class="k">WORKDIR</span><span class="s"> /app             # Set working directory</span>
<span class="k">COPY</span><span class="s"> requirements.txt .  # Copy dependency file first (caching)</span>
<span class="k">RUN </span>pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt  <span class="c"># Install dependencies</span>
<span class="k">COPY</span><span class="s"> . .                 # Copy application code</span>
<span class="k">CMD</span><span class="s"> ["python", "app.py"] # Default command when container starts</span>
</code></pre></div></div>

<p>Build and run this with:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">-t</span> my-app <span class="nb">.</span>
docker run <span class="nt">-p</span> 8080:80 my-app
</code></pre></div></div>

<h3 id="dockerfile-instructions-reference">Dockerfile Instructions Reference</h3>

<p>Each instruction serves a specific purpose. Here is a quick reference:</p>

<table>
  <thead>
    <tr>
      <th>Instruction</th>
      <th>Purpose</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>FROM</td>
      <td>Base image to start from</td>
      <td><code class="language-plaintext highlighter-rouge">FROM python:3.12-slim</code></td>
    </tr>
    <tr>
      <td>WORKDIR</td>
      <td>Set working directory</td>
      <td><code class="language-plaintext highlighter-rouge">WORKDIR /app</code></td>
    </tr>
    <tr>
      <td>COPY</td>
      <td>Copy files from host to image</td>
      <td><code class="language-plaintext highlighter-rouge">COPY . /app</code></td>
    </tr>
    <tr>
      <td>RUN</td>
      <td>Execute command during build</td>
      <td><code class="language-plaintext highlighter-rouge">RUN pip install -r requirements.txt</code></td>
    </tr>
    <tr>
      <td>CMD</td>
      <td>Default command when container starts</td>
      <td><code class="language-plaintext highlighter-rouge">CMD ["python", "app.py"]</code></td>
    </tr>
    <tr>
      <td>ENTRYPOINT</td>
      <td>Configure container as executable</td>
      <td><code class="language-plaintext highlighter-rouge">ENTRYPOINT ["./start.sh"]</code></td>
    </tr>
    <tr>
      <td>EXPOSE</td>
      <td>Document which port the app uses</td>
      <td><code class="language-plaintext highlighter-rouge">EXPOSE 8080</code></td>
    </tr>
    <tr>
      <td>ENV</td>
      <td>Set environment variable</td>
      <td><code class="language-plaintext highlighter-rouge">ENV NODE_ENV=production</code></td>
    </tr>
    <tr>
      <td>ARG</td>
      <td>Build-time variable</td>
      <td><code class="language-plaintext highlighter-rouge">ARG VERSION=1.0</code></td>
    </tr>
    <tr>
      <td>USER</td>
      <td>Run as specific user</td>
      <td><code class="language-plaintext highlighter-rouge">USER appuser</code></td>
    </tr>
  </tbody>
</table>

<h4 id="cmd-vs-entrypoint">CMD vs ENTRYPOINT</h4>

<p>These two instructions are often confused. Here is when to use each:</p>

<ul>
  <li><strong>CMD</strong>: Use when you want to provide defaults that can be easily overridden</li>
  <li><strong>ENTRYPOINT</strong>: Use when the container should always run a specific executable</li>
</ul>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># CMD: user can override with "docker run my-app /bin/bash"</span>
<span class="k">CMD</span><span class="s"> ["python", "app.py"]</span>

<span class="c"># ENTRYPOINT: container always runs this, CMD provides default arguments</span>
<span class="k">ENTRYPOINT</span><span class="s"> ["python"]</span>
<span class="k">CMD</span><span class="s"> ["app.py"]  # User can override: docker run my-app other.py</span>
</code></pre></div></div>

<h4 id="copy-vs-add">COPY vs ADD</h4>

<p>Prefer <strong>COPY</strong> unless you specifically need ADD’s features:</p>

<ul>
  <li><strong>COPY</strong>: Simple file copy (recommended)</li>
  <li><strong>ADD</strong>: Also extracts tar files and downloads URLs (use sparingly)</li>
</ul>

<h3 id="multistage-builds">Multistage Builds</h3>

<p>Multi-stage builds solve a common problem: build tools make images large. Your Go compiler, Node.js build tools, or Java SDK add hundreds of megabytes that are not needed at runtime.</p>

<p><strong>The solution</strong>: Use one stage to build, another to run. The final image only contains what is needed to run your application.</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Stage 1: Build (large image with all build tools)</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">node:18</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">builder</span>
<span class="k">WORKDIR</span><span class="s"> /app</span>
<span class="k">COPY</span><span class="s"> package*.json ./</span>
<span class="k">RUN </span>npm ci
<span class="k">COPY</span><span class="s"> . .</span>
<span class="k">RUN </span>npm run build

<span class="c"># Stage 2: Run (small image with only runtime)</span>
<span class="k">FROM</span><span class="s"> nginx:alpine</span>
<span class="k">COPY</span><span class="s"> --from=builder /app/dist /usr/share/nginx/html</span>
</code></pre></div></div>

<p><strong>Result</strong>: Final image is ~25MB instead of ~1GB.</p>

<table>
  <thead>
    <tr>
      <th>Scenario</th>
      <th>Without Multi-stage</th>
      <th>With Multi-stage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Node.js app</td>
      <td>~1 GB</td>
      <td>~100 MB</td>
    </tr>
    <tr>
      <td>Go binary</td>
      <td>~800 MB</td>
      <td>~10 MB</td>
    </tr>
    <tr>
      <td>Java app</td>
      <td>~500 MB</td>
      <td>~200 MB</td>
    </tr>
  </tbody>
</table>

<h2 id="best-practices">Best Practices</h2>

<p>These practices will make your images smaller, more secure, and faster to build.</p>

<h3 id="image-size-and-security">Image Size and Security</h3>

<table>
  <thead>
    <tr>
      <th>Practice</th>
      <th>Why It Matters</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Use minimal base images (alpine, slim)</td>
      <td>Smaller attack surface, faster pulls</td>
    </tr>
    <tr>
      <td>Run as non-root user</td>
      <td>Prevents container escape attacks</td>
    </tr>
    <tr>
      <td>Use specific version tags</td>
      <td>Avoids surprise breaking changes</td>
    </tr>
    <tr>
      <td>Scan images for vulnerabilities</td>
      <td>Catches known security issues</td>
    </tr>
  </tbody>
</table>

<h3 id="build-speed">Build Speed</h3>

<p>Order your Dockerfile to maximize cache hits. Put things that change rarely at the top:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Good: dependencies change less often than code</span>
<span class="k">COPY</span><span class="s"> package.json package-lock.json ./</span>
<span class="k">RUN </span>npm ci
<span class="k">COPY</span><span class="s"> . .  # Code changes invalidate only this layer</span>

<span class="c"># Bad: any code change reinstalls all dependencies</span>
<span class="k">COPY</span><span class="s"> . .</span>
<span class="k">RUN </span>npm ci
</code></pre></div></div>

<h3 id="layer-optimization">Layer Optimization</h3>

<p>Combine related commands to reduce layers and image size:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Good: single layer, cleanup in same layer</span>
<span class="k">RUN </span>apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> curl <span class="o">&amp;&amp;</span> <span class="nb">rm</span> <span class="nt">-rf</span> /var/lib/apt/lists/<span class="k">*</span>

<span class="c"># Bad: cleanup in separate layer does not reduce size</span>
<span class="k">RUN </span>apt-get update
<span class="k">RUN </span>apt-get <span class="nb">install</span> <span class="nt">-y</span> curl
<span class="k">RUN </span><span class="nb">rm</span> <span class="nt">-rf</span> /var/lib/apt/lists/<span class="k">*</span>
</code></pre></div></div>

<h3 id="essential-dockerignore">Essential .dockerignore</h3>

<p>Always create a <code class="language-plaintext highlighter-rouge">.dockerignore</code> file to exclude unnecessary files:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node_modules
.git
*.log
.env
</code></pre></div></div>

<h2 id="performance-optimization">Performance Optimization</h2>

<p>Container performance depends on resource allocation, storage configuration, and network setup. Here are the key levers you can adjust.</p>

<h3 id="resource-limits">Resource Limits</h3>

<p>Always set resource limits in production to prevent runaway containers from affecting other services.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Memory: set limit and reservation</span>
docker run <span class="nt">-d</span> <span class="nt">--memory</span><span class="o">=</span><span class="s2">"1g"</span> <span class="nt">--memory-reservation</span><span class="o">=</span><span class="s2">"750m"</span> my-app

<span class="c"># CPU: limit to 2 cores</span>
docker run <span class="nt">-d</span> <span class="nt">--cpus</span><span class="o">=</span><span class="s2">"2"</span> my-app
</code></pre></div></div>

<h3 id="build-performance">Build Performance</h3>

<p>Use BuildKit cache mounts to dramatically speed up builds:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># syntax=docker/dockerfile:1</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">golang:1.20</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">builder</span>
<span class="k">RUN </span><span class="nt">--mount</span><span class="o">=</span><span class="nb">type</span><span class="o">=</span>cache,target<span class="o">=</span>/go/pkg/mod <span class="se">\
</span>    <span class="nt">--mount</span><span class="o">=</span><span class="nb">type</span><span class="o">=</span>cache,target<span class="o">=</span>/root/.cache/go-build <span class="se">\
</span>    go build <span class="nt">-o</span> app .
</code></pre></div></div>

<h3 id="network-performance">Network Performance</h3>

<table>
  <thead>
    <tr>
      <th>Need</th>
      <th>Solution</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Maximum performance</td>
      <td><code class="language-plaintext highlighter-rouge">--network host</code> (no isolation)</td>
    </tr>
    <tr>
      <td>Good performance + isolation</td>
      <td>Custom bridge network</td>
    </tr>
    <tr>
      <td>Multi-host communication</td>
      <td>Overlay network</td>
    </tr>
  </tbody>
</table>

<h3 id="monitoring">Monitoring</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Real-time resource usage</span>
docker stats

<span class="c"># Container-specific metrics</span>
docker stats container-name <span class="nt">--no-stream</span>
</code></pre></div></div>

<p>For production monitoring, consider cAdvisor with Prometheus for detailed metrics and alerting.</p>

<h2 id="docker-swarm-native-orchestration">Docker Swarm: Native Orchestration</h2>

<p>Docker Swarm turns multiple Docker hosts into a single cluster. It handles service deployment, scaling, and rolling updates with built-in load balancing.</p>

<p><strong>When to use Swarm vs Kubernetes:</strong></p>

<table>
  <thead>
    <tr>
      <th>Factor</th>
      <th>Docker Swarm</th>
      <th>Kubernetes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Complexity</td>
      <td>Simple, quick to learn</td>
      <td>Complex, steep learning curve</td>
    </tr>
    <tr>
      <td>Setup time</td>
      <td>Minutes</td>
      <td>Hours to days</td>
    </tr>
    <tr>
      <td>Scalability</td>
      <td>Good for small/medium</td>
      <td>Excellent for large scale</td>
    </tr>
    <tr>
      <td>Feature set</td>
      <td>Essential features</td>
      <td>Comprehensive ecosystem</td>
    </tr>
    <tr>
      <td>Best for</td>
      <td>Small teams, simpler apps</td>
      <td>Large teams, complex apps</td>
    </tr>
  </tbody>
</table>

<h3 id="quick-start">Quick Start</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Initialize swarm on first manager</span>
docker swarm init

<span class="c"># Join workers (run this on each worker node)</span>
docker swarm <span class="nb">join</span> <span class="nt">--token</span> &lt;token&gt; &lt;manager-ip&gt;:2377

<span class="c"># Deploy a service with 3 replicas</span>
docker service create <span class="nt">--name</span> web <span class="nt">--replicas</span> 3 <span class="nt">-p</span> 80:80 nginx

<span class="c"># Scale up</span>
docker service scale <span class="nv">web</span><span class="o">=</span>5
</code></pre></div></div>

<h3 id="stack-deployment">Stack Deployment</h3>

<p>For multi-service applications, use stack files (compose format):</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># stack.yml</span>
<span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.8'</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">web</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nginx:alpine</span>
    <span class="na">deploy</span><span class="pi">:</span>
      <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
      <span class="na">update_config</span><span class="pi">:</span>
        <span class="na">parallelism</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">delay</span><span class="pi">:</span> <span class="s">10s</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">80:80"</span>
  <span class="na">api</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">my-api:latest</span>
    <span class="na">deploy</span><span class="pi">:</span>
      <span class="na">replicas</span><span class="pi">:</span> <span class="m">2</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Deploy and manage stack</span>
docker stack deploy <span class="nt">-c</span> stack.yml myapp
docker stack services myapp
docker stack <span class="nb">rm </span>myapp
</code></pre></div></div>

<h3 id="high-availability-tips">High Availability Tips</h3>

<ul>
  <li>Use an <strong>odd number of managers</strong> (3, 5, or 7) for quorum</li>
  <li>Distribute managers across availability zones</li>
  <li>Use node labels and constraints for placement control</li>
</ul>

<h2 id="cicd-integration-with-docker">CI/CD Integration with Docker</h2>

<p>Docker enables consistent builds across all CI/CD platforms. The pattern is always the same: build image, test, scan for vulnerabilities, push to registry, deploy.</p>

<h3 id="github-actions">GitHub Actions</h3>

<p>The most common approach for GitHub-hosted projects:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># .github/workflows/docker.yml</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">Docker Build</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">main</span><span class="pi">]</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v4</span>
    <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">docker/setup-buildx-action@v3</span>
    <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">docker/login-action@v3</span>
      <span class="na">with</span><span class="pi">:</span>
        <span class="na">registry</span><span class="pi">:</span> <span class="s">ghcr.io</span>
        <span class="na">username</span><span class="pi">:</span> <span class="s">$</span>
        <span class="na">password</span><span class="pi">:</span> <span class="s">$</span>
    <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">docker/build-push-action@v5</span>
      <span class="na">with</span><span class="pi">:</span>
        <span class="na">push</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">tags</span><span class="pi">:</span> <span class="s">ghcr.io/$:latest</span>
        <span class="na">cache-from</span><span class="pi">:</span> <span class="s">type=gha</span>
        <span class="na">cache-to</span><span class="pi">:</span> <span class="s">type=gha,mode=max</span>
</code></pre></div></div>

<h3 id="gitlab-cicd">GitLab CI/CD</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># .gitlab-ci.yml</span>
<span class="na">build</span><span class="pi">:</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">docker:latest</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">docker:dind</span>
  <span class="na">script</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">docker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA .</span>
    <span class="pi">-</span> <span class="s">docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA</span>
</code></pre></div></div>

<h3 id="key-cicd-practices">Key CI/CD Practices</h3>

<table>
  <thead>
    <tr>
      <th>Practice</th>
      <th>Why</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Cache layers</td>
      <td>Faster builds</td>
    </tr>
    <tr>
      <td>Scan images</td>
      <td>Catch vulnerabilities before deployment</td>
    </tr>
    <tr>
      <td>Tag with commit SHA</td>
      <td>Traceable deployments</td>
    </tr>
    <tr>
      <td>Use multi-stage builds</td>
      <td>Smaller production images</td>
    </tr>
    <tr>
      <td>Avoid <code class="language-plaintext highlighter-rouge">latest</code> tag in production</td>
      <td>Reproducible deployments</td>
    </tr>
  </tbody>
</table>


      </section>
    </div>
  </article>
</div>
</body>
</html>