{% comment %}
  Difficulty Badge Component
  
  Usage: {% include difficulty-badge.html difficulty=page.difficulty %}
  
  Parameters:
  - difficulty: String - "beginner", "intermediate", or "advanced"
  - show_description: Boolean - Whether to show the description tooltip (default: true)
{% endcomment %}

{% assign show_desc = include.show_description | default: true %}
{% assign diff_data = site.data.metadata.difficulties[include.difficulty] %}

<span class="difficulty-badge {{ include.difficulty }}" 
      {% if show_desc %}
      data-tooltip="{{ diff_data.description }}"
      {% endif %}>
  <i class="fas fa-{{ diff_data.icon }}"></i>
  <span class="badge-label">{{ diff_data.label }}</span>
</span>

<style>
.difficulty-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.75rem;
  border-radius: 20px;
  font-size: 0.875rem;
  font-weight: 600;
  position: relative;
  cursor: help;
  transition: all 0.2s ease;
}

.difficulty-badge i {
  font-size: 1rem;
}

.difficulty-badge.beginner {
  background: rgba(40, 167, 69, 0.1);
  color: #28a745;
  border: 1px solid rgba(40, 167, 69, 0.2);
}

.difficulty-badge.beginner:hover {
  background: rgba(40, 167, 69, 0.2);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(40, 167, 69, 0.1);
}

.difficulty-badge.intermediate {
  background: rgba(255, 193, 7, 0.1);
  color: #f39c12;
  border: 1px solid rgba(255, 193, 7, 0.2);
}

.difficulty-badge.intermediate:hover {
  background: rgba(255, 193, 7, 0.2);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(255, 193, 7, 0.1);
}

.difficulty-badge.advanced {
  background: rgba(220, 53, 69, 0.1);
  color: #dc3545;
  border: 1px solid rgba(220, 53, 69, 0.2);
}

.difficulty-badge.advanced:hover {
  background: rgba(220, 53, 69, 0.2);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(220, 53, 69, 0.1);
}

/* Tooltip styles */
.difficulty-badge[data-tooltip] {
  position: relative;
}

.difficulty-badge[data-tooltip]::before,
.difficulty-badge[data-tooltip]::after {
  position: absolute;
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.3s, visibility 0.3s;
  z-index: 1000;
}

.difficulty-badge[data-tooltip]::before {
  content: attr(data-tooltip);
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  padding: 0.5rem 0.75rem;
  background: #333;
  color: white;
  font-size: 0.75rem;
  font-weight: normal;
  border-radius: 4px;
  white-space: nowrap;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.difficulty-badge[data-tooltip]::after {
  content: "";
  bottom: calc(100% + 4px);
  left: 50%;
  transform: translateX(-50%);
  border: 4px solid transparent;
  border-top-color: #333;
}

.difficulty-badge[data-tooltip]:hover::before,
.difficulty-badge[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .difficulty-badge {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
  }
  
  .difficulty-badge i {
    font-size: 0.875rem;
  }
}
</style>